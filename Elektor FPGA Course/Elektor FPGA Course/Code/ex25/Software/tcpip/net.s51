; *** 'C:\uC51\bin\uc51.exe': uC/51 - ANSI C compiler
; *** Standard 'i8051', V1.25, Jan 24 2004 (C) WWW.WICKENHAEUSER.COM
; sourcefile: 'tcpip\net.c', time: Thu Dec 14 11:33:34 2006

 .hide
 .autoimport
ACC=$E0
PSW=$D0
DPH=$83
DPL=$82
B=$F0
AR0=0
AR1=1
AR2=2
AR3=3
AR4=4
AR5=5
AR6=6
AR7=7
AR8=8
AR9=9
AR10=10
AR11=11
AR12=12
AR13=13
AR14=14
AR15=15
 .show
XDS=0
COS=1
NES=2
INS=2
.macro __line
lcall $0006 ; uC/51 debugger
.endmacro
	.include <reg51.def>
	.include <reg52.def>
.macro _irq_vector
	.show
	.segment @1, org @2
	ljmp @3
	.hide
.endmacro
 .segment data, sclass xram
 .export _my_mac ; xdata unsigned char my_mac[6]
_my_mac: ; xdata unsigned char my_mac[6]
 .dc.b 0,6
 .dc.b 152,1
 .dc.b 0,0
 .export _tx_bufleft ; xdata unsigned char tx_bufleft
_tx_bufleft: ; xdata unsigned char tx_bufleft
 .dc.b 4
 .export _allocate_tx_buf ; xdata unsigned char *allocate_tx_buf(void)
 .segment _allocate_tx_buf_formal_near, size 0, fill, notext, sclass dram
 .segment _allocate_tx_buf_local_near, size 0, fill, notext, sclass dram
 .sgraph _allocate_tx_buf_formal_near, _allocate_tx_buf_local_near, __allocate_tx_buf

 .segment __allocate_tx_buf
_allocate_tx_buf: ; (leaf function) xdata unsigned char *allocate_tx_buf(void)
 .line "tcpip\net.c" 313 34
 mov R4,#((_tx_buffers)>>8)&255
 mov R5,#(_tx_buffers)&255
 ; variable 'pbuf' assigned to register 'RW45'
 .line "tcpip\net.c" 317 4
 mov DPTR,#_tx_bufleft
 movx A,@DPTR
 mov R7,A
 jz ?15
 .line "tcpip\net.c" 317 20
 clr A
 mov R3,A
 ; variable 'ui' assigned to register 'R3'
?17:
 .line "tcpip\net.c" 317 51
 mov DPH,AR4
 mov DPL,AR5
 movx A,@DPTR
 mov R7,A
 jnz ?21
 .line "tcpip\net.c" 318 15
 mov DPH,AR4
 mov DPL,AR5
 mov A,#1
 movx @DPTR,A
 .line "tcpip\net.c" 320 3
 mov DPTR,#_tx_bufleft
 movx A,@DPTR
 mov R7,A
 dec R7
 mov DPTR,#_tx_bufleft
 mov A,R7
 movx @DPTR,A
 .line "tcpip\net.c" 321 10
 mov A,#1
 add A,R5
 mov R7,A
 clr A
 addc A,R4
 mov R6,A
 sjmp ?14
?21:
 .line "tcpip\net.c" 323 1
 inc R3
 mov A,#101
 add A,R5
 mov R5,A
 clr A
 addc A,R4
 mov R4,A
 .line "tcpip\net.c" 317 25
 mov R7,#4
 clr C
 mov A,R3
 subb A,R7
 jc ?17
?15:
 .line "tcpip\net.c" 324 8
 clr A
 mov R6,A
 mov R7,A
?14:
 ret
; end of function allocate_tx_buf
; used: R---34567 BR-------- DPTR ACC PSW

 .export _free_tx_buf ; void free_tx_buf(xdata unsigned char *)
 .segment _free_tx_buf_formal_near, size 0, fill, notext, sclass dram
 .segment _free_tx_buf_local_near, size 0, fill, notext, sclass dram
 .sgraph _free_tx_buf_formal_near, _free_tx_buf_local_near, __free_tx_buf

 .segment __free_tx_buf
_free_tx_buf: ; (leaf function) void free_tx_buf(xdata unsigned char *)
 ; parameter 'pbuf' in 'RW67'
 .line "tcpip\net.c" 333 35
 mov A,R7
 dec R7
 jnz ?__1
 dec R6
?__1:
 ; variable 'pbuf' assigned to register 'RW67'
 .line "tcpip\net.c" 335 4
 mov DPH,AR6
 mov DPL,AR7
 movx A,@DPTR
 mov R5,A
 jz ?24
 .line "tcpip\net.c" 335 10
 mov DPH,AR6
 mov DPL,AR7
 clr A
 movx @DPTR,A
 .line "tcpip\net.c" 337 2
 mov DPTR,#_tx_bufleft
 movx A,@DPTR
 mov R5,A
 inc R5
 mov DPTR,#_tx_bufleft
 mov A,R5
 movx @DPTR,A
 .line "tcpip\net.c" 338 1
?24:
 ret
; end of function free_tx_buf
; used: R----4567 BR-------- DPTR ACC PSW

 .export _free_match_socket ; void free_match_socket(void)
 .hide
 .segment _free_match_socket_formal_near, size 0, fill, notext, sclass dram
 .segment _free_match_socket_local_near, size 0, fill, notext, sclass dram
 .sgraph _free_match_socket_formal_near, _free_match_socket_local_near, __free_match_socket
 .sgraph _free_match_socket_local_near, _free_tx_buf_formal_near, __free_match_socket, 0
 .segment _free_tx_buf_formal_near, size 0, fill, notext, sclass dram
 .sgraph _free_match_socket_local_near, _free_tx_buf_formal_near, __free_match_socket, 0
 .segment _free_tx_buf_formal_near, size 0, fill, notext, sclass dram
 .sgraph _free_match_socket_local_near, _free_tx_buf_formal_near, __free_match_socket, 0
 .segment _free_tx_buf_formal_near, size 0, fill, notext, sclass dram
 .show

 .segment __free_match_socket
_free_match_socket: ; void free_match_socket(void)
 .line "tcpip\net.c" 347 28
 mov DPTR,#_match_socket+42
 lcall __ld_dptr_r67
 mov A,R6
 orl A,R7
 jz ?28
 .line "tcpip\net.c" 348 30
 mov DPTR,#_match_socket+42
 clr A
 movx @DPTR,A
 inc DPTR
 movx @DPTR,A
 .line "tcpip\net.c" 350 2
 mov DPTR,#_match_socket+48
 lcall __ld_dptr_r67
 lcall _free_tx_buf
 .line "tcpip\net.c" 351 1
?28:
 .line "tcpip\net.c" 352 4
 mov DPTR,#_match_socket+34
 lcall __ld_dptr_r67
 mov A,R6
 orl A,R7
 jz ?30
 .line "tcpip\net.c" 352 30
 mov DPTR,#_match_socket+34
 clr A
 movx @DPTR,A
 inc DPTR
 movx @DPTR,A
 .line "tcpip\net.c" 354 2
 mov DPTR,#_match_socket+40
 lcall __ld_dptr_r67
 lcall _free_tx_buf
 .line "tcpip\net.c" 355 1
?30:
 .line "tcpip\net.c" 356 4
 mov DPTR,#_match_socket+26
 lcall __ld_dptr_r67
 mov A,R6
 orl A,R7
 jz ?32
 .line "tcpip\net.c" 356 30
 mov DPTR,#_match_socket+26
 clr A
 movx @DPTR,A
 inc DPTR
 movx @DPTR,A
 .line "tcpip\net.c" 358 2
 mov DPTR,#_match_socket+32
 lcall __ld_dptr_r67
 lcall _free_tx_buf
 .line "tcpip\net.c" 359 1
?32:
 ret
; end of function free_match_socket
; used: R01234567 BR01234567 DPTR ACC PSW B

 .export _send_request_ARP ; void send_request_ARP(unsigned long)
 .hide
 .segment _send_request_ARP_formal_near, size 0, fill, notext, sclass dram
 .segment _send_request_ARP_local_near, size 4, fill, notext, sclass dram
 .sgraph _send_request_ARP_formal_near, _send_request_ARP_local_near, __send_request_ARP
?send_request_ARP_ipl = _send_request_ARP_local_near+0 ; unsigned long
 .sgraph _send_request_ARP_local_near, _RequestSend_Phy_formal_near, __send_request_ARP, 4
 .segment _RequestSend_Phy_formal_near, size 0, fill, notext, sclass dram
 .sgraph _send_request_ARP_local_near, _Write_Frame_long_Phy_formal_near, __send_request_ARP, 4
 .segment _Write_Frame_long_Phy_formal_near, size 0, fill, notext, sclass dram
 .sgraph _send_request_ARP_local_near, _Write_Frame_word_Phy_formal_near, __send_request_ARP, 4
 .segment _Write_Frame_word_Phy_formal_near, size 0, fill, notext, sclass dram
 .sgraph _send_request_ARP_local_near, _Write_Frame_xdata_Phy_formal_near, __send_request_ARP, 4
 .segment _Write_Frame_xdata_Phy_formal_near, size 0, fill, notext, sclass dram
 .sgraph _send_request_ARP_local_near, _Write_Frame_word_Phy_formal_near, __send_request_ARP, 4
 .segment _Write_Frame_word_Phy_formal_near, size 0, fill, notext, sclass dram
 .sgraph _send_request_ARP_local_near, _Write_Frame_long_Phy_formal_near, __send_request_ARP, 4
 .segment _Write_Frame_long_Phy_formal_near, size 0, fill, notext, sclass dram
 .sgraph _send_request_ARP_local_near, _Write_Frame_long_Phy_formal_near, __send_request_ARP, 4
 .segment _Write_Frame_long_Phy_formal_near, size 0, fill, notext, sclass dram
 .sgraph _send_request_ARP_local_near, _Write_Frame_xdata_Phy_formal_near, __send_request_ARP, 4
 .segment _Write_Frame_xdata_Phy_formal_near, size 0, fill, notext, sclass dram
 .sgraph _send_request_ARP_local_near, _Write_Frame_long_Phy_formal_near, __send_request_ARP, 4
 .segment _Write_Frame_long_Phy_formal_near, size 0, fill, notext, sclass dram
 .sgraph _send_request_ARP_local_near, _Write_Frame_long_Phy_formal_near, __send_request_ARP, 4
 .segment _Write_Frame_long_Phy_formal_near, size 0, fill, notext, sclass dram
 .sgraph _send_request_ARP_local_near, _Write_Frame_word_Phy_formal_near, __send_request_ARP, 4
 .segment _Write_Frame_word_Phy_formal_near, size 0, fill, notext, sclass dram
 .sgraph _send_request_ARP_local_near, _Write_Frame_long_Phy_formal_near, __send_request_ARP, 4
 .segment _Write_Frame_long_Phy_formal_near, size 0, fill, notext, sclass dram
 .sgraph _send_request_ARP_local_near, _Write_Frame_long_Phy_formal_near, __send_request_ARP, 0
 .segment _Write_Frame_long_Phy_formal_near, size 0, fill, notext, sclass dram
 .sgraph _send_request_ARP_local_near, _CommitSend_Phy_formal_near, __send_request_ARP, 0
 .segment _CommitSend_Phy_formal_near, size 0, fill, notext, sclass dram
 .show

 .segment __send_request_ARP
_send_request_ARP: ; void send_request_ARP(unsigned long)
 ; parameter 'ipl' in 'RL4567' moved and assigned to local '?send_request_ARP_ipl'
 mov A,#?send_request_ARP_ipl
 lcall __st_a_r47
 .line "tcpip\net.c" 369 40
 mov R6,#0
 mov R7,#42
 lcall _RequestSend_Phy
 .line "tcpip\net.c" 374 1
 mov R4,#255
 mov R5,#255
 mov R6,#255
 mov R7,#255
 lcall _Write_Frame_long_Phy
 .line "tcpip\net.c" 375 1
 mov R6,#255
 mov R7,#255
 lcall _Write_Frame_word_Phy
 .line "tcpip\net.c" 377 1
 mov R4,#0
 mov R5,#6
 mov R6,#((_my_mac)>>8)&255
 mov R7,#(_my_mac)&255
 lcall _Write_Frame_xdata_Phy
 .line "tcpip\net.c" 379 1
 mov R6,#8
 mov R7,#6
 lcall _Write_Frame_word_Phy
 .line "tcpip\net.c" 381 1
 mov R4,#0
 mov R5,#1
 mov R6,#8
 mov R7,#0
 lcall _Write_Frame_long_Phy
 .line "tcpip\net.c" 382 1
 mov R4,#6
 mov R5,#4
 mov R6,#0
 mov R7,#1
 lcall _Write_Frame_long_Phy
 .line "tcpip\net.c" 384 1
 mov R4,#0
 mov R5,#6
 mov R6,#((_my_mac)>>8)&255
 mov R7,#(_my_mac)&255
 lcall _Write_Frame_xdata_Phy
 .line "tcpip\net.c" 385 1
 mov DPTR,#_my_ip
 lcall __ld_dptr_r47
 lcall _Write_Frame_long_Phy
 .line "tcpip\net.c" 388 1
 mov R4,#255
 mov R5,#255
 mov R6,#255
 mov R7,#255
 lcall _Write_Frame_long_Phy
 .line "tcpip\net.c" 389 1
 mov R6,#255
 mov R7,#255
 lcall _Write_Frame_word_Phy
 .line "tcpip\net.c" 392 4
 mov DPTR,#_my_ip
 lcall __ld_dptr_r03
 mov A,#?send_request_ARP_ipl
 lcall __ld_a_r47
 lcall __bxor_i4
 mov DPTR,#_subnet_ip
 lcall __ld_dptr_r03
 lcall __band_i4
 mov A,R4
 orl A,R5
 orl A,R6
 orl A,R7
 jz ?35
 .line "tcpip\net.c" 392 35
 mov DPTR,#_gateway_ip
 lcall __ld_dptr_r47
 lcall _Write_Frame_long_Phy
 .line "tcpip\net.c" 394 1
 sjmp ?36
?35:
 .line "tcpip\net.c" 394 6
 mov A,#?send_request_ARP_ipl
 lcall __ld_a_r47
 lcall _Write_Frame_long_Phy
 .line "tcpip\net.c" 396 1
?36:
 .line "tcpip\net.c" 397 1
 lcall _CommitSend_Phy
 ret
; end of function send_request_ARP
; used: R01234567 BR01234567 DPTR ACC PSW B locals:4 bytes

 .export _process_ARP ; unsigned int process_ARP(void)
 .hide
 .segment _process_ARP_formal_near, size 0, fill, notext, sclass dram
 .segment _process_ARP_local_near, size 3, fill, notext, sclass dram
 .sgraph _process_ARP_formal_near, _process_ARP_local_near, __process_ARP
?process_ARP_psock = _process_ARP_local_near+0 ; xdata UC_SOCKET *
?process_ARP_ui = _process_ARP_local_near+2 ; unsigned char
?process_ARP_type = _process_ARP_local_near+0 ; unsigned int
 .sgraph _process_ARP_local_near, _net_match_ulong_formal_near, __process_ARP, 0
 .segment _net_match_ulong_formal_near, size 0, fill, notext, sclass dram
 .sgraph _process_ARP_local_near, _net_match_uint_formal_near, __process_ARP, 0
 .segment _net_match_uint_formal_near, size 0, fill, notext, sclass dram
 .sgraph _process_ARP_local_near, _Read_Frame_word_Phy_formal_near, __process_ARP, 0
 .segment _Read_Frame_word_Phy_formal_near, size 0, fill, notext, sclass dram
 .sgraph _process_ARP_local_near, _Read_Frame_xdata_Phy_formal_near, __process_ARP, 2
 .segment _Read_Frame_xdata_Phy_formal_near, size 0, fill, notext, sclass dram
 .sgraph _process_ARP_local_near, _RequestSend_Phy_formal_near, __process_ARP, 0
 .segment _RequestSend_Phy_formal_near, size 0, fill, notext, sclass dram
 .sgraph _process_ARP_local_near, _Write_Frame_xdata_Phy_formal_near, __process_ARP, 0
 .segment _Write_Frame_xdata_Phy_formal_near, size 0, fill, notext, sclass dram
 .sgraph _process_ARP_local_near, _Write_Frame_xdata_Phy_formal_near, __process_ARP, 0
 .segment _Write_Frame_xdata_Phy_formal_near, size 0, fill, notext, sclass dram
 .sgraph _process_ARP_local_near, _Write_Frame_word_Phy_formal_near, __process_ARP, 0
 .segment _Write_Frame_word_Phy_formal_near, size 0, fill, notext, sclass dram
 .sgraph _process_ARP_local_near, _Write_Frame_long_Phy_formal_near, __process_ARP, 0
 .segment _Write_Frame_long_Phy_formal_near, size 0, fill, notext, sclass dram
 .sgraph _process_ARP_local_near, _Write_Frame_long_Phy_formal_near, __process_ARP, 0
 .segment _Write_Frame_long_Phy_formal_near, size 0, fill, notext, sclass dram
 .sgraph _process_ARP_local_near, _Write_Frame_xdata_Phy_formal_near, __process_ARP, 0
 .segment _Write_Frame_xdata_Phy_formal_near, size 0, fill, notext, sclass dram
 .sgraph _process_ARP_local_near, _Write_Frame_long_Phy_formal_near, __process_ARP, 0
 .segment _Write_Frame_long_Phy_formal_near, size 0, fill, notext, sclass dram
 .sgraph _process_ARP_local_near, _Write_Frame_xdata_Phy_formal_near, __process_ARP, 0
 .segment _Write_Frame_xdata_Phy_formal_near, size 0, fill, notext, sclass dram
 .sgraph _process_ARP_local_near, _CommitSend_Phy_formal_near, __process_ARP, 0
 .segment _CommitSend_Phy_formal_near, size 0, fill, notext, sclass dram
 .sgraph _process_ARP_local_near, _xram_fast_copy_formal_near, __process_ARP, 3
 .segment _xram_fast_copy_formal_near, size 0, fill, notext, sclass dram
 .show

 .segment __process_ARP
_process_ARP: ; unsigned int process_ARP(void)
 .line "tcpip\net.c" 407 22
 mov R4,#0
 mov R5,#1
 mov R6,#8
 mov R7,#0
 lcall _net_match_ulong
 mov A,R7
 jz ?38
 .line "tcpip\net.c" 414 37
 mov R6,#162
 mov R7,#0
 ljmp ?37
?38:
 .line "tcpip\net.c" 415 4
 mov R6,#6
 mov R7,#4
 lcall _net_match_uint
 mov A,R7
 jz ?40
 .line "tcpip\net.c" 415 34
 mov R6,#162
 mov R7,#0
 ljmp ?37
?40:
 .line "tcpip\net.c" 416 1
 lcall _Read_Frame_word_Phy
 ; variable 'type' allocated as 'auto'
 mov ?process_ARP_type,R6
 mov ?process_ARP_type+1,R7
 .line "tcpip\net.c" 419 1
 mov R4,#0
 mov R5,#20
 mov R6,#((_hframe)>>8)&255
 mov R7,#(_hframe)&255
 lcall _Read_Frame_xdata_Phy
 .line "tcpip\net.c" 420 4
 mov R4,#0
 mov R5,#2
 mov R6,?process_ARP_type
 mov R7,?process_ARP_type+1
 setb C
 mov A,R7
 subb A,R5
 mov A,R6
 subb A,R4
 jc ?42
 .line "tcpip\net.c" 420 19
 mov R6,#163
 mov R7,#0
 ljmp ?37
?42:
 .line "tcpip\net.c" 422 4
 mov R6,?process_ARP_type
 mov R7,?process_ARP_type+1
 mov A,R7
 xrl A,#1
 orl A,R6
 jz ?_12
 ljmp ?44
?_12:
 .line "tcpip\net.c" 422 12
 mov DPTR,#_my_ip
 lcall __ld_dptr_r03
 mov DPTR,#_hframe+16
 lcall __ld_dptr_r47
 clr C
 lcall __cmp_i4
 jz ?46
 .line "tcpip\net.c" 423 54
 mov R6,#164
 mov R7,#0
 ljmp ?37
?46:
 .line "tcpip\net.c" 426 2
 mov R6,#0
 mov R7,#42
 lcall _RequestSend_Phy
 .line "tcpip\net.c" 428 2
 mov R4,#0
 mov R5,#6
 mov R6,#((_remote_mac)>>8)&255
 mov R7,#(_remote_mac)&255
 lcall _Write_Frame_xdata_Phy
 .line "tcpip\net.c" 429 2
 mov R4,#0
 mov R5,#6
 mov R6,#((_my_mac)>>8)&255
 mov R7,#(_my_mac)&255
 lcall _Write_Frame_xdata_Phy
 .line "tcpip\net.c" 430 2
 mov R6,#8
 mov R7,#6
 lcall _Write_Frame_word_Phy
 .line "tcpip\net.c" 432 2
 mov R4,#0
 mov R5,#1
 mov R6,#8
 mov R7,#0
 lcall _Write_Frame_long_Phy
 .line "tcpip\net.c" 433 2
 mov R4,#6
 mov R5,#4
 mov R6,#0
 mov R7,#2
 lcall _Write_Frame_long_Phy
 .line "tcpip\net.c" 435 2
 mov R4,#0
 mov R5,#6
 mov R6,#((_my_mac)>>8)&255
 mov R7,#(_my_mac)&255
 lcall _Write_Frame_xdata_Phy
 .line "tcpip\net.c" 436 2
 mov DPTR,#_my_ip
 lcall __ld_dptr_r47
 lcall _Write_Frame_long_Phy
 .line "tcpip\net.c" 437 2
 mov R4,#0
 mov R5,#10
 mov R6,#((_hframe)>>8)&255
 mov R7,#(_hframe)&255
 lcall _Write_Frame_xdata_Phy
 .line "tcpip\net.c" 438 2
 lcall _CommitSend_Phy
 .line "tcpip\net.c" 440 9
 mov R6,#160
 mov R7,#0
 ljmp ?37
?44:
 ; variable 'psock' allocated as 'auto'
 .line "tcpip\net.c" 442 6
 mov ?process_ARP_psock,#((_uc_socket)>>8)&255
 mov ?process_ARP_psock+1,#(_uc_socket)&255
 ; variable 'ui' allocated as 'auto'
 .line "tcpip\net.c" 448 10
 clr A
 mov ?process_ARP_ui,A
?48:
 .line "tcpip\net.c" 448 34
 mov DPH,?process_ARP_psock
 mov DPL,?process_ARP_psock+1
 movx A,@DPTR
 mov R7,A
 jnz ?_14
 ljmp ?52
?_14:
 mov R6,?process_ARP_psock
 mov R7,?process_ARP_psock+1
 inc R7
 mov A,R7
 jnz ?__2
 inc R6
?__2:
 mov DPH,AR6
 mov DPL,AR7
 movx A,@DPTR
 mov R7,A
 cjne R7,#6,?_15
 sjmp ?_16
?_15:
 ljmp ?52
?_16:
 .line "tcpip\net.c" 449 52
 mov R6,?process_ARP_psock
 mov R7,?process_ARP_psock+1
 mov A,#8
 add A,R7
 mov R7,A
 clr A
 addc A,R6
 mov R6,A
 mov DPH,R6
 mov DPL,R7
 lcall __ld_dptr_r47
 lcall __movel_4_8
 mov DPTR,#_hframe+6
 lcall __ld_dptr_r03
 lcall __movel_8_4
 clr C
 lcall __cmp_i4
 jz ?56
 mov DPTR,#_my_ip
 lcall __ld_dptr_r03
 lcall __movel_8_4
 lcall __bxor_i4
 mov DPTR,#_subnet_ip
 lcall __ld_dptr_r03
 lcall __band_i4
 mov A,R4
 orl A,R5
 orl A,R6
 orl A,R7
 jnz ?_18
 ljmp ?54
?_18:
 mov DPTR,#_gateway_ip
 lcall __ld_dptr_r03
 mov DPTR,#_hframe+6
 lcall __ld_dptr_r47
 clr C
 lcall __cmp_i4
 jz ?_19
 ljmp ?54
?_19:
?56:
 .line "tcpip\net.c" 453 114
 mov R2,#0
 mov R3,#6
 mov R6,?process_ARP_psock
 mov R7,?process_ARP_psock+1
 mov A,#2
 add A,R7
 mov R5,A
 clr A
 addc A,R6
 mov R4,A
 mov R6,#((_hframe)>>8)&255
 mov R7,#(_hframe)&255
 lcall _xram_fast_copy
 .line "tcpip\net.c" 457 5
 mov R6,?process_ARP_psock
 mov R7,?process_ARP_psock+1
 inc R7
 mov A,R7
 jnz ?__3
 inc R6
?__3:
 mov DPH,AR6
 mov DPL,AR7
 mov A,#7
 movx @DPTR,A
 .line "tcpip\net.c" 458 5
 mov R6,?process_ARP_psock
 mov R7,?process_ARP_psock+1
 mov A,#24
 add A,R7
 mov R7,A
 clr A
 addc A,R6
 mov R6,A
 mov DPH,AR6
 mov DPL,AR7
 clr A
 movx @DPTR,A
 .line "tcpip\net.c" 459 5
 mov R6,?process_ARP_psock
 mov R7,?process_ARP_psock+1
 mov A,#25
 add A,R7
 mov R7,A
 clr A
 addc A,R6
 mov R6,A
 mov DPH,AR6
 mov DPL,AR7
 mov A,#1
 movx @DPTR,A
 .line "tcpip\net.c" 461 12
 mov R6,#165
 mov R7,#0
 sjmp ?37
?54:
 .line "tcpip\net.c" 464 3
?52:
 .line "tcpip\net.c" 465 2
 inc ?process_ARP_ui
 mov A,#50
 add A,?process_ARP_psock+1
 mov ?process_ARP_psock+1,A
 clr A
 addc A,?process_ARP_psock
 mov ?process_ARP_psock,A
 .line "tcpip\net.c" 448 15
 mov R5,#2
 mov R7,?process_ARP_ui
 clr C
 mov A,R7
 subb A,R5
 jnc ?_20
 ljmp ?48
?_20:
 .line "tcpip\net.c" 467 9
 mov R6,#161
 mov R7,#0
?37:
 ret
; end of function process_ARP
; used: R01234567 BR01234567 DPTR ACC PSW B locals:3 bytes

 .export _process_ICMP ; unsigned int process_ICMP(unsigned int)
 .hide
 .segment _process_ICMP_formal_near, size 0, fill, notext, sclass dram
 .segment _process_ICMP_local_near, size 2, fill, notext, sclass dram
 .sgraph _process_ICMP_formal_near, _process_ICMP_local_near, __process_ICMP
?process_ICMP_dlen = _process_ICMP_local_near+0 ; unsigned int
 .sgraph _process_ICMP_local_near, _Read_Frame_xdata_Phy_formal_near, __process_ICMP, 2
 .segment _Read_Frame_xdata_Phy_formal_near, size 0, fill, notext, sclass dram
 .sgraph _process_ICMP_local_near, _ip_check_formal_near, __process_ICMP, 2
 .segment _ip_check_formal_near, size 0, fill, notext, sclass dram
 .sgraph _process_ICMP_local_near, _ip_check_formal_near, __process_ICMP, 2
 .segment _ip_check_formal_near, size 0, fill, notext, sclass dram
 .sgraph _process_ICMP_local_near, _RequestSend_Phy_formal_near, __process_ICMP, 2
 .segment _RequestSend_Phy_formal_near, size 0, fill, notext, sclass dram
 .sgraph _process_ICMP_local_near, _Write_Frame_xdata_Phy_formal_near, __process_ICMP, 2
 .segment _Write_Frame_xdata_Phy_formal_near, size 0, fill, notext, sclass dram
 .sgraph _process_ICMP_local_near, _Write_Frame_xdata_Phy_formal_near, __process_ICMP, 2
 .segment _Write_Frame_xdata_Phy_formal_near, size 0, fill, notext, sclass dram
 .sgraph _process_ICMP_local_near, _Write_Frame_word_Phy_formal_near, __process_ICMP, 2
 .segment _Write_Frame_word_Phy_formal_near, size 0, fill, notext, sclass dram
 .sgraph _process_ICMP_local_near, _Write_Frame_xdata_Phy_formal_near, __process_ICMP, 2
 .segment _Write_Frame_xdata_Phy_formal_near, size 0, fill, notext, sclass dram
 .sgraph _process_ICMP_local_near, _Write_Frame_xdata_Phy_formal_near, __process_ICMP, 0
 .segment _Write_Frame_xdata_Phy_formal_near, size 0, fill, notext, sclass dram
 .sgraph _process_ICMP_local_near, _CommitSend_Phy_formal_near, __process_ICMP, 0
 .segment _CommitSend_Phy_formal_near, size 0, fill, notext, sclass dram
 .show

 .segment __process_ICMP
_process_ICMP: ; unsigned int process_ICMP(unsigned int)
 ; parameter 'dlen' in 'RW67' moved and assigned to local '?process_ICMP_dlen'
 mov ?process_ICMP_dlen,R6
 mov ?process_ICMP_dlen+1,R7
 .line "tcpip\net.c" 478 28
 mov R4,#0
 mov R5,#20
 mov R6,?process_ICMP_dlen
 mov R7,?process_ICMP_dlen+1
 setb C
 mov A,R7
 subb A,R5
 mov A,R6
 subb A,R4
 jc ?58
 .line "tcpip\net.c" 480 25
 mov ?process_ICMP_dlen,#0
 mov ?process_ICMP_dlen+1,#20
?58:
 .line "tcpip\net.c" 482 1
 mov R4,?process_ICMP_dlen
 mov R5,?process_ICMP_dlen+1
 mov R6,#((_hframe)>>8)&255
 mov R7,#(_hframe)&255
 lcall _Read_Frame_xdata_Phy
 .line "tcpip\net.c" 483 4
 mov DPTR,#_hframe
 movx A,@DPTR
 mov R7,A
 jnz ?60
 .line "tcpip\net.c" 483 29
 mov R6,#176
 mov R7,#0
 ljmp ?57
?60:
 .line "tcpip\net.c" 488 10
 mov DPTR,#_hframe
 movx A,@DPTR
 mov R7,A
 cjne R7,#8,?_23
 sjmp ?_24
?_23:
 ljmp ?62
?_24:
 .line "tcpip\net.c" 488 35
 mov DPTR,#_hframe
 clr A
 movx @DPTR,A
 .line "tcpip\net.c" 494 2
 mov DPTR,#_hframe+2
 clr A
 movx @DPTR,A
 inc DPTR
 movx @DPTR,A
 .line "tcpip\net.c" 495 2
 mov R4,?process_ICMP_dlen
 mov R5,?process_ICMP_dlen+1
 mov R6,#((_hframe)>>8)&255
 mov R7,#(_hframe)&255
 lcall _ip_check
 mov A,R7
 cpl A
 mov R7,A
 mov A,R6
 cpl A
 mov R6,A
 mov DPTR,#_hframe+2
 lcall __st_dptr_r67
 .line "tcpip\net.c" 498 2
 mov DPTR,#_hhdr
 mov A,#69
 movx @DPTR,A
 inc DPTR
 clr A
 movx @DPTR,A
 .line "tcpip\net.c" 499 2
 mov R6,?process_ICMP_dlen
 mov R7,?process_ICMP_dlen+1
 mov A,#20
 add A,R7
 mov R7,A
 clr A
 addc A,R6
 mov R6,A
 mov DPTR,#_hhdr+2
 lcall __st_dptr_r67
 .line "tcpip\net.c" 500 2
 mov DPTR,#_hhdr+4
 clr A
 movx @DPTR,A
 inc DPTR
 movx @DPTR,A
 .line "tcpip\net.c" 501 2
 mov DPTR,#_hhdr+6
 mov A,#64
 movx @DPTR,A
 inc DPTR
 clr A
 movx @DPTR,A
 .line "tcpip\net.c" 502 2
 mov DPTR,#_hhdr+8
 mov A,#100
 movx @DPTR,A
 .line "tcpip\net.c" 503 2
 mov DPTR,#_hhdr+9
 mov A,#1
 movx @DPTR,A
 .line "tcpip\net.c" 504 2
 mov DPTR,#_hhdr+10
 clr A
 movx @DPTR,A
 inc DPTR
 movx @DPTR,A
 .line "tcpip\net.c" 505 2
 mov DPTR,#_my_ip
 lcall __ld_dptr_r47
 mov DPTR,#_hhdr+12
 lcall __st_dptr_r47
 .line "tcpip\net.c" 506 2
 mov DPTR,#_remote_ip
 lcall __ld_dptr_r47
 mov DPTR,#_hhdr+16
 lcall __st_dptr_r47
 .line "tcpip\net.c" 507 2
 mov R4,#0
 mov R5,#20
 mov R6,#((_hhdr)>>8)&255
 mov R7,#(_hhdr)&255
 lcall _ip_check
 mov A,R7
 cpl A
 mov R7,A
 mov A,R6
 cpl A
 mov R6,A
 mov DPTR,#_hhdr+10
 lcall __st_dptr_r67
 .line "tcpip\net.c" 510 2
 mov R6,?process_ICMP_dlen
 mov R7,?process_ICMP_dlen+1
 mov A,#34
 add A,R7
 mov R7,A
 clr A
 addc A,R6
 mov R6,A
 lcall _RequestSend_Phy
 .line "tcpip\net.c" 511 2
 mov R4,#0
 mov R5,#6
 mov R6,#((_remote_mac)>>8)&255
 mov R7,#(_remote_mac)&255
 lcall _Write_Frame_xdata_Phy
 .line "tcpip\net.c" 512 2
 mov R4,#0
 mov R5,#6
 mov R6,#((_my_mac)>>8)&255
 mov R7,#(_my_mac)&255
 lcall _Write_Frame_xdata_Phy
 .line "tcpip\net.c" 513 2
 mov R6,#8
 mov R7,#0
 lcall _Write_Frame_word_Phy
 .line "tcpip\net.c" 518 2
 mov R4,#0
 mov R5,#20
 mov R6,#((_hhdr)>>8)&255
 mov R7,#(_hhdr)&255
 lcall _Write_Frame_xdata_Phy
 .line "tcpip\net.c" 519 2
 mov R4,?process_ICMP_dlen
 mov R5,?process_ICMP_dlen+1
 mov R6,#((_hframe)>>8)&255
 mov R7,#(_hframe)&255
 lcall _Write_Frame_xdata_Phy
 .line "tcpip\net.c" 521 2
 lcall _CommitSend_Phy
 .line "tcpip\net.c" 523 9
 mov R6,#177
 mov R7,#0
 sjmp ?57
?62:
 .line "tcpip\net.c" 525 14
 mov R6,#178
 mov R7,#0
?57:
 ret
; end of function process_ICMP
; used: R01234567 BR01234567 DPTR ACC PSW B locals:2 bytes

 .export _process_UDP ; unsigned int process_UDP(unsigned int)
 .hide
 .segment _process_UDP_formal_near, size 0, fill, notext, sclass dram
 .segment _process_UDP_local_near, size 12, fill, notext, sclass dram
 .sgraph _process_UDP_formal_near, _process_UDP_local_near, __process_UDP
?process_UDP_psock = _process_UDP_local_near+6 ; xdata UC_SOCKET *
?process_UDP_ui = _process_UDP_local_near+8 ; unsigned int
?process_UDP_udp_dport = _process_UDP_local_near+4 ; unsigned int
?process_UDP_dlen = _process_UDP_local_near+0 ; unsigned int
?i77 = _process_UDP_local_near+10 ; unsigned int
?process_UDP_udp_sport = _process_UDP_local_near+2 ; unsigned int
 .sgraph _process_UDP_local_near, _Read_Frame_word_Phy_formal_near, __process_UDP, 2
 .segment _Read_Frame_word_Phy_formal_near, size 0, fill, notext, sclass dram
 .sgraph _process_UDP_local_near, _Read_Frame_word_Phy_formal_near, __process_UDP, 4
 .segment _Read_Frame_word_Phy_formal_near, size 0, fill, notext, sclass dram
 .sgraph _process_UDP_local_near, _net_match_uint_formal_near, __process_UDP, 6
 .segment _net_match_uint_formal_near, size 0, fill, notext, sclass dram
 .sgraph _process_UDP_local_near, _Read_Frame_word_Phy_formal_near, __process_UDP, 6
 .segment _Read_Frame_word_Phy_formal_near, size 0, fill, notext, sclass dram
 .sgraph _process_UDP_local_near, _xram_fast_copy_formal_near, __process_UDP, 10
 .segment _xram_fast_copy_formal_near, size 0, fill, notext, sclass dram
 .sgraph _process_UDP_local_near, _Read_Frame_xdata_Phy_formal_near, __process_UDP, 12
 .segment _Read_Frame_xdata_Phy_formal_near, size 0, fill, notext, sclass dram
 .show

 .segment __process_UDP
_process_UDP: ; unsigned int process_UDP(unsigned int)
 ; parameter 'dlen' in 'RW67' moved and assigned to local '?process_UDP_dlen'
 mov ?process_UDP_dlen,R6
 mov ?process_UDP_dlen+1,R7
 .line "tcpip\net.c" 541 27
 lcall _Read_Frame_word_Phy
 ; variable 'udp_sport' allocated as 'auto'
 mov ?process_UDP_udp_sport,R6
 mov ?process_UDP_udp_sport+1,R7
 .line "tcpip\net.c" 547 1
 lcall _Read_Frame_word_Phy
 ; variable 'udp_dport' allocated as 'auto'
 mov ?process_UDP_udp_dport,R6
 mov ?process_UDP_udp_dport+1,R7
 .line "tcpip\net.c" 548 4
 mov R6,?process_UDP_dlen
 mov R7,?process_UDP_dlen+1
 lcall _net_match_uint
 mov A,R7
 jz ?65
 .line "tcpip\net.c" 548 26
 mov R6,#225
 mov R7,#0
 ljmp ?64
?65:
 .line "tcpip\net.c" 551 1
 lcall _Read_Frame_word_Phy
 ; variable 'psock' allocated as 'auto'
 .line "tcpip\net.c" 554 5
 mov ?process_UDP_psock,#((_uc_socket)>>8)&255
 mov ?process_UDP_psock+1,#(_uc_socket)&255
 ; variable 'ui' allocated as 'auto'
 .line "tcpip\net.c" 555 9
 clr A
 mov ?process_UDP_ui,A
 mov ?process_UDP_ui+1,A
?67:
 .line "tcpip\net.c" 555 33
 mov DPH,?process_UDP_psock
 mov DPL,?process_UDP_psock+1
 movx A,@DPTR
 mov R7,A
 cjne R7,#1,?_26
 sjmp ?_27
?_26:
 ljmp ?71
?_27:
 .line "tcpip\net.c" 556 35
 mov R6,?process_UDP_psock
 mov R7,?process_UDP_psock+1
 mov A,#14
 add A,R7
 mov R7,A
 clr A
 addc A,R6
 mov R6,A
 mov DPH,R6
 mov DPL,R7
 lcall __ld_dptr_r45
 mov R6,?process_UDP_udp_dport
 mov R7,?process_UDP_udp_dport+1
 mov A,R5
 xrl A,R7
 jnz ?_28
 mov A,R4
 xrl A,R6
 jz ?_29
?_28:
 ljmp ?73
?_29:
 .line "tcpip\net.c" 558 49
 mov R6,?process_UDP_psock
 mov R7,?process_UDP_psock+1
 mov A,#12
 add A,R7
 mov R5,A
 clr A
 addc A,R6
 mov R4,A
 mov R6,?process_UDP_udp_sport
 mov R7,?process_UDP_udp_sport+1
 mov DPH,R4
 mov DPL,R5
 lcall __st_dptr_r67
 .line "tcpip\net.c" 561 7
 mov R6,?process_UDP_psock
 mov R7,?process_UDP_psock+1
 mov A,#8
 add A,R7
 mov R3,A
 clr A
 addc A,R6
 mov R2,A
 mov DPTR,#_remote_ip
 lcall __ld_dptr_r47
 mov DPH,R2
 mov DPL,R3
 lcall __st_dptr_r47
 .line "tcpip\net.c" 563 7
 mov R2,#0
 mov R3,#6
 mov R6,?process_UDP_psock
 mov R7,?process_UDP_psock+1
 mov A,#2
 add A,R7
 mov R5,A
 clr A
 addc A,R6
 mov R4,A
 mov R6,#((_remote_mac)>>8)&255
 mov R7,#(_remote_mac)&255
 lcall _xram_fast_copy
 ; variable 'dlen' allocated as 'auto'
 .line "tcpip\net.c" 565 7
 mov A,#248
 add A,?process_UDP_dlen+1
 mov ?i77+1,A
 mov A,#255
 addc A,?process_UDP_dlen
 mov ?i77,A
 .line "tcpip\net.c" 566 10
 mov R4,#5
 mov R5,#120
 mov R6,?i77
 mov R7,?i77+1
 setb C
 mov A,R7
 subb A,R5
 mov A,R6
 subb A,R4
 .line "tcpip\net.c" 566 22
 jnc ?69
 .line "tcpip\net.c" 568 7
 mov R4,?i77
 mov R5,?i77+1
 mov R6,#((_rcv_buf)>>8)&255
 mov R7,#(_rcv_buf)&255
 lcall _Read_Frame_xdata_Phy
 .line "tcpip\net.c" 573 7
 mov R6,?i77
 mov R7,?i77+1
 mov DPTR,#_rcv_len
 lcall __st_dptr_r67
 .line "tcpip\net.c" 574 31
 mov R6,?process_UDP_ui
 mov R7,?process_UDP_ui+1
 clr A
 add A,R7
 mov R7,A
 mov A,#226
 addc A,R6
 mov R6,A
 sjmp ?64
?73:
 .line "tcpip\net.c" 576 9
?71:
 .line "tcpip\net.c" 577 5
 inc ?process_UDP_ui+1
 mov A,?process_UDP_ui+1
 jnz ?_31
 inc ?process_UDP_ui
?_31:
 mov A,#50
 add A,?process_UDP_psock+1
 mov ?process_UDP_psock+1,A
 clr A
 addc A,?process_UDP_psock
 mov ?process_UDP_psock,A
 .line "tcpip\net.c" 555 14
 mov R4,#0
 mov R5,#2
 mov R6,?process_UDP_ui
 mov R7,?process_UDP_ui+1
 clr C
 mov A,R7
 subb A,R5
 mov A,R6
 subb A,R4
 jnc ?_32
 ljmp ?67
?_32:
?69:
 .line "tcpip\net.c" 580 8
 mov R6,#224
 mov R7,#0
?64:
 ret
; end of function process_UDP
; used: R01234567 BR01234567 DPTR ACC PSW B locals:12 bytes

 .export _send_upd ; void send_upd(xdata char *, unsigned int, xdata unsigned char (*)[6], unsigned long, unsigned int, unsigned int)
 .hide
 .segment _send_upd_formal_near, size 8, fill, notext, sclass dram
 .segment _send_upd_local_near, size 6, fill, notext, sclass dram
 .sgraph _send_upd_formal_near, _send_upd_local_near, __send_upd
?send_upd_len = _send_upd_local_near+0 ; unsigned int
?send_upd_0_rem_ipl = _send_upd_formal_near+0 ; unsigned long
?send_upd_0_sport = _send_upd_formal_near+4 ; unsigned int
?send_upd_0_dport = _send_upd_formal_near+6 ; unsigned int
?send_upd_data = _send_upd_local_near+2 ; xdata char *
?send_upd_pmac = _send_upd_local_near+4 ; xdata unsigned char (*)[6]
 .sgraph _send_upd_local_near, _ip_check_formal_near, __send_upd, 6
 .segment _ip_check_formal_near, size 0, fill, notext, sclass dram
 .sgraph _send_upd_local_near, _RequestSend_Phy_formal_near, __send_upd, 6
 .segment _RequestSend_Phy_formal_near, size 0, fill, notext, sclass dram
 .sgraph _send_upd_local_near, _Write_Frame_xdata_Phy_formal_near, __send_upd, 4
 .segment _Write_Frame_xdata_Phy_formal_near, size 0, fill, notext, sclass dram
 .sgraph _send_upd_local_near, _Write_Frame_xdata_Phy_formal_near, __send_upd, 4
 .segment _Write_Frame_xdata_Phy_formal_near, size 0, fill, notext, sclass dram
 .sgraph _send_upd_local_near, _Write_Frame_word_Phy_formal_near, __send_upd, 4
 .segment _Write_Frame_word_Phy_formal_near, size 0, fill, notext, sclass dram
 .sgraph _send_upd_local_near, _Write_Frame_xdata_Phy_formal_near, __send_upd, 4
 .segment _Write_Frame_xdata_Phy_formal_near, size 0, fill, notext, sclass dram
 .sgraph _send_upd_local_near, _Write_Frame_word_Phy_formal_near, __send_upd, 4
 .segment _Write_Frame_word_Phy_formal_near, size 0, fill, notext, sclass dram
 .sgraph _send_upd_local_near, _Write_Frame_word_Phy_formal_near, __send_upd, 4
 .segment _Write_Frame_word_Phy_formal_near, size 0, fill, notext, sclass dram
 .sgraph _send_upd_local_near, _Write_Frame_word_Phy_formal_near, __send_upd, 4
 .segment _Write_Frame_word_Phy_formal_near, size 0, fill, notext, sclass dram
 .sgraph _send_upd_local_near, _Write_Frame_word_Phy_formal_near, __send_upd, 4
 .segment _Write_Frame_word_Phy_formal_near, size 0, fill, notext, sclass dram
 .sgraph _send_upd_local_near, _Write_Frame_xdata_Phy_formal_near, __send_upd, 0
 .segment _Write_Frame_xdata_Phy_formal_near, size 0, fill, notext, sclass dram
 .sgraph _send_upd_local_near, _CommitSend_Phy_formal_near, __send_upd, 0
 .segment _CommitSend_Phy_formal_near, size 0, fill, notext, sclass dram
 .show

 .segment __send_upd
_send_upd: ; void send_upd(xdata char *, unsigned int, xdata unsigned char (*)[6], unsigned long, unsigned int, unsigned int)
 ; parameter 'len' in 'RW45' moved and assigned to local '?send_upd_len'
 ; parameter 'rem_ipl' moved and assigned to 'RL0123'
 ; parameter 'sport' assigned to local '?send_upd_0_sport'
 ; parameter 'dport' assigned to local '?send_upd_0_dport'
 ; parameter 'data' in 'RW67' moved and assigned to local '?send_upd_data'
 ; parameter 'pmac' in 'RW23' moved and assigned to local '?send_upd_pmac'
 mov ?send_upd_len,R4
 mov ?send_upd_len+1,R5
 mov ?send_upd_data,R6
 mov ?send_upd_data+1,R7
 mov ?send_upd_pmac,R2
 mov ?send_upd_pmac+1,R3
 mov R0,#?send_upd_0_rem_ipl
 lcall __ld_r0_r03
 .line "tcpip\net.c" 587 103
 mov DPTR,#_hhdr
 mov A,#69
 movx @DPTR,A
 inc DPTR
 clr A
 movx @DPTR,A
 .line "tcpip\net.c" 593 1
 mov R6,?send_upd_len
 mov R7,?send_upd_len+1
 mov A,#28
 add A,R7
 mov R7,A
 clr A
 addc A,R6
 mov R6,A
 mov DPTR,#_hhdr+2
 lcall __st_dptr_r67
 .line "tcpip\net.c" 594 1
 mov DPTR,#_hhdr+4
 clr A
 movx @DPTR,A
 inc DPTR
 movx @DPTR,A
 .line "tcpip\net.c" 595 1
 mov DPTR,#_hhdr+6
 mov A,#64
 movx @DPTR,A
 inc DPTR
 clr A
 movx @DPTR,A
 .line "tcpip\net.c" 596 1
 mov DPTR,#_hhdr+8
 mov A,#100
 movx @DPTR,A
 .line "tcpip\net.c" 597 1
 mov DPTR,#_hhdr+9
 mov A,#17
 movx @DPTR,A
 .line "tcpip\net.c" 598 1
 mov DPTR,#_hhdr+10
 clr A
 movx @DPTR,A
 inc DPTR
 movx @DPTR,A
 .line "tcpip\net.c" 599 1
 mov DPTR,#_my_ip
 lcall __ld_dptr_r47
 mov DPTR,#_hhdr+12
 lcall __st_dptr_r47
 .line "tcpip\net.c" 600 1
 mov DPTR,#_hhdr+16
 lcall __st_dptr_r03
 .line "tcpip\net.c" 601 1
 mov R4,#0
 mov R5,#20
 mov R6,#((_hhdr)>>8)&255
 mov R7,#(_hhdr)&255
 lcall _ip_check
 mov A,R7
 cpl A
 mov R7,A
 mov A,R6
 cpl A
 mov R6,A
 mov DPTR,#_hhdr+10
 lcall __st_dptr_r67
 .line "tcpip\net.c" 605 1
 mov R6,?send_upd_len
 mov R7,?send_upd_len+1
 mov A,#42
 add A,R7
 mov R7,A
 clr A
 addc A,R6
 mov R6,A
 lcall _RequestSend_Phy
 .line "tcpip\net.c" 606 1
 mov R4,#0
 mov R5,#6
 mov R6,?send_upd_pmac
 mov R7,?send_upd_pmac+1
 lcall _Write_Frame_xdata_Phy
 .line "tcpip\net.c" 607 1
 mov R4,#0
 mov R5,#6
 mov R6,#((_my_mac)>>8)&255
 mov R7,#(_my_mac)&255
 lcall _Write_Frame_xdata_Phy
 .line "tcpip\net.c" 608 1
 mov R6,#8
 mov R7,#0
 lcall _Write_Frame_word_Phy
 .line "tcpip\net.c" 614 1
 mov R4,#0
 mov R5,#20
 mov R6,#((_hhdr)>>8)&255
 mov R7,#(_hhdr)&255
 lcall _Write_Frame_xdata_Phy
 .line "tcpip\net.c" 615 1
 mov R6,?send_upd_0_sport
 mov R7,?send_upd_0_sport+1
 lcall _Write_Frame_word_Phy
 .line "tcpip\net.c" 616 1
 mov R6,?send_upd_0_dport
 mov R7,?send_upd_0_dport+1
 lcall _Write_Frame_word_Phy
 .line "tcpip\net.c" 617 1
 mov R6,?send_upd_len
 mov R7,?send_upd_len+1
 mov A,#8
 add A,R7
 mov R7,A
 clr A
 addc A,R6
 mov R6,A
 lcall _Write_Frame_word_Phy
 .line "tcpip\net.c" 618 1
 clr A
 mov R6,A
 mov R7,A
 lcall _Write_Frame_word_Phy
 .line "tcpip\net.c" 620 1
 mov R4,?send_upd_len
 mov R5,?send_upd_len+1
 mov R6,?send_upd_data
 mov R7,?send_upd_data+1
 lcall _Write_Frame_xdata_Phy
 .line "tcpip\net.c" 621 1
 lcall _CommitSend_Phy
 ret
; end of function send_upd
; used: R01234567 BR01234567 DPTR ACC PSW B locals:6 bytes formals:8 bytes

 .export _send_TCP ; void send_TCP(xdata char *, unsigned int, xdata unsigned char (*)[6], unsigned long)
 .hide
 .segment _send_TCP_formal_near, size 4, fill, notext, sclass dram
 .segment _send_TCP_local_near, size 6, fill, notext, sclass dram
 .sgraph _send_TCP_formal_near, _send_TCP_local_near, __send_TCP
?send_TCP_len = _send_TCP_local_near+0 ; unsigned int
?send_TCP_0_rem_ipl = _send_TCP_formal_near+0 ; unsigned long
?send_TCP_data = _send_TCP_local_near+2 ; xdata char *
?send_TCP_pmac = _send_TCP_local_near+4 ; xdata unsigned char (*)[6]
 .sgraph _send_TCP_local_near, _ip_check_formal_near, __send_TCP, 6
 .segment _ip_check_formal_near, size 0, fill, notext, sclass dram
 .sgraph _send_TCP_local_near, _ip_check_more_formal_near, __send_TCP, 6
 .segment _ip_check_more_formal_near, size 0, fill, notext, sclass dram
 .sgraph _send_TCP_local_near, _ip_check_more_formal_near, __send_TCP, 6
 .segment _ip_check_more_formal_near, size 0, fill, notext, sclass dram
 .sgraph _send_TCP_local_near, _ip_check_formal_near, __send_TCP, 6
 .segment _ip_check_formal_near, size 0, fill, notext, sclass dram
 .sgraph _send_TCP_local_near, _RequestSend_Phy_formal_near, __send_TCP, 6
 .segment _RequestSend_Phy_formal_near, size 0, fill, notext, sclass dram
 .sgraph _send_TCP_local_near, _Write_Frame_xdata_Phy_formal_near, __send_TCP, 4
 .segment _Write_Frame_xdata_Phy_formal_near, size 0, fill, notext, sclass dram
 .sgraph _send_TCP_local_near, _Write_Frame_xdata_Phy_formal_near, __send_TCP, 4
 .segment _Write_Frame_xdata_Phy_formal_near, size 0, fill, notext, sclass dram
 .sgraph _send_TCP_local_near, _Write_Frame_word_Phy_formal_near, __send_TCP, 4
 .segment _Write_Frame_word_Phy_formal_near, size 0, fill, notext, sclass dram
 .sgraph _send_TCP_local_near, _Write_Frame_xdata_Phy_formal_near, __send_TCP, 4
 .segment _Write_Frame_xdata_Phy_formal_near, size 0, fill, notext, sclass dram
 .sgraph _send_TCP_local_near, _Write_Frame_xdata_Phy_formal_near, __send_TCP, 4
 .segment _Write_Frame_xdata_Phy_formal_near, size 0, fill, notext, sclass dram
 .sgraph _send_TCP_local_near, _Write_Frame_xdata_Phy_formal_near, __send_TCP, 0
 .segment _Write_Frame_xdata_Phy_formal_near, size 0, fill, notext, sclass dram
 .sgraph _send_TCP_local_near, _CommitSend_Phy_formal_near, __send_TCP, 0
 .segment _CommitSend_Phy_formal_near, size 0, fill, notext, sclass dram
 .show

 .segment __send_TCP
_send_TCP: ; void send_TCP(xdata char *, unsigned int, xdata unsigned char (*)[6], unsigned long)
 ; parameter 'len' in 'RW45' moved and assigned to local '?send_TCP_len'
 ; parameter 'rem_ipl' assigned to local '?send_TCP_0_rem_ipl'
 ; parameter 'data' in 'RW67' moved and assigned to local '?send_TCP_data'
 ; parameter 'pmac' in 'RW23' moved and assigned to local '?send_TCP_pmac'
 mov ?send_TCP_len,R4
 mov ?send_TCP_len+1,R5
 mov ?send_TCP_data,R6
 mov ?send_TCP_data+1,R7
 mov ?send_TCP_pmac,R2
 mov ?send_TCP_pmac+1,R3
 .line "tcpip\net.c" 633 80
 mov DPTR,#_hframe+12
 mov A,#80
 movx @DPTR,A
 .line "tcpip\net.c" 655 1
 mov DPTR,#_hframe+16
 clr A
 movx @DPTR,A
 inc DPTR
 movx @DPTR,A
 .line "tcpip\net.c" 657 1
 mov DPTR,#_my_ip
 lcall __ld_dptr_r47
 mov DPTR,#_pseudo_hdr
 lcall __st_dptr_r47
 .line "tcpip\net.c" 658 1
 mov A,#?send_TCP_0_rem_ipl
 lcall __ld_a_r47
 mov DPTR,#_pseudo_hdr+4
 lcall __st_dptr_r47
 .line "tcpip\net.c" 659 1
 mov DPTR,#_pseudo_hdr+8
 clr A
 movx @DPTR,A
 inc DPTR
 mov A,#6
 movx @DPTR,A
 .line "tcpip\net.c" 660 1
 mov R6,?send_TCP_len
 mov R7,?send_TCP_len+1
 mov A,#20
 add A,R7
 mov R7,A
 clr A
 addc A,R6
 mov R6,A
 mov DPTR,#_pseudo_hdr+10
 lcall __st_dptr_r67
 .line "tcpip\net.c" 661 1
 mov R4,?send_TCP_len
 mov R5,?send_TCP_len+1
 mov R6,?send_TCP_data
 mov R7,?send_TCP_data+1
 lcall _ip_check
 ; variable 'data_cs' assigned to register 'RW67'
 .line "tcpip\net.c" 662 1
 mov R2,AR6
 mov R3,AR7
 mov R4,#0
 mov R5,#12
 mov R6,#((_pseudo_hdr)>>8)&255
 mov R7,#(_pseudo_hdr)&255
 lcall _ip_check_more
 mov R2,AR6
 mov R3,AR7
 mov R4,#0
 mov R5,#20
 mov R6,#((_hframe)>>8)&255
 mov R7,#(_hframe)&255
 lcall _ip_check_more
 mov A,R7
 cpl A
 mov R7,A
 mov A,R6
 cpl A
 mov R6,A
 mov DPTR,#_hframe+16
 lcall __st_dptr_r67
 .line "tcpip\net.c" 668 1
 mov DPTR,#_hhdr
 mov A,#69
 movx @DPTR,A
 inc DPTR
 clr A
 movx @DPTR,A
 .line "tcpip\net.c" 669 1
 mov R6,?send_TCP_len
 mov R7,?send_TCP_len+1
 mov A,#40
 add A,R7
 mov R7,A
 clr A
 addc A,R6
 mov R6,A
 mov DPTR,#_hhdr+2
 lcall __st_dptr_r67
 .line "tcpip\net.c" 670 1
 mov DPTR,#_hhdr+4
 clr A
 movx @DPTR,A
 inc DPTR
 movx @DPTR,A
 .line "tcpip\net.c" 671 1
 mov DPTR,#_hhdr+6
 mov A,#64
 movx @DPTR,A
 inc DPTR
 clr A
 movx @DPTR,A
 .line "tcpip\net.c" 672 1
 mov DPTR,#_hhdr+8
 mov A,#100
 movx @DPTR,A
 .line "tcpip\net.c" 673 1
 mov DPTR,#_hhdr+9
 mov A,#6
 movx @DPTR,A
 .line "tcpip\net.c" 674 1
 mov DPTR,#_hhdr+10
 clr A
 movx @DPTR,A
 inc DPTR
 movx @DPTR,A
 .line "tcpip\net.c" 675 1
 mov DPTR,#_my_ip
 lcall __ld_dptr_r47
 mov DPTR,#_hhdr+12
 lcall __st_dptr_r47
 .line "tcpip\net.c" 676 1
 mov A,#?send_TCP_0_rem_ipl
 lcall __ld_a_r47
 mov DPTR,#_hhdr+16
 lcall __st_dptr_r47
 .line "tcpip\net.c" 677 1
 mov R4,#0
 mov R5,#20
 mov R6,#((_hhdr)>>8)&255
 mov R7,#(_hhdr)&255
 lcall _ip_check
 mov A,R7
 cpl A
 mov R7,A
 mov A,R6
 cpl A
 mov R6,A
 mov DPTR,#_hhdr+10
 lcall __st_dptr_r67
 .line "tcpip\net.c" 681 1
 mov R6,?send_TCP_len
 mov R7,?send_TCP_len+1
 mov A,#54
 add A,R7
 mov R7,A
 clr A
 addc A,R6
 mov R6,A
 lcall _RequestSend_Phy
 .line "tcpip\net.c" 682 1
 mov R4,#0
 mov R5,#6
 mov R6,?send_TCP_pmac
 mov R7,?send_TCP_pmac+1
 lcall _Write_Frame_xdata_Phy
 .line "tcpip\net.c" 683 1
 mov R4,#0
 mov R5,#6
 mov R6,#((_my_mac)>>8)&255
 mov R7,#(_my_mac)&255
 lcall _Write_Frame_xdata_Phy
 .line "tcpip\net.c" 684 1
 mov R6,#8
 mov R7,#0
 lcall _Write_Frame_word_Phy
 .line "tcpip\net.c" 689 1
 mov R4,#0
 mov R5,#20
 mov R6,#((_hhdr)>>8)&255
 mov R7,#(_hhdr)&255
 lcall _Write_Frame_xdata_Phy
 .line "tcpip\net.c" 690 1
 mov R4,#0
 mov R5,#20
 mov R6,#((_hframe)>>8)&255
 mov R7,#(_hframe)&255
 lcall _Write_Frame_xdata_Phy
 .line "tcpip\net.c" 691 1
 mov R4,?send_TCP_len
 mov R5,?send_TCP_len+1
 mov R6,?send_TCP_data
 mov R7,?send_TCP_data+1
 lcall _Write_Frame_xdata_Phy
 .line "tcpip\net.c" 692 1
 lcall _CommitSend_Phy
 ret
; end of function send_TCP
; used: R01234567 BR01234567 DPTR ACC PSW B locals:6 bytes formals:4 bytes

 .export _send_incomming_reset_TCP ; void send_incomming_reset_TCP(unsigned int, xdata unsigned char (*)[6], unsigned long)
 .hide
 .segment _send_incomming_reset_TCP_formal_near, size 0, fill, notext, sclass dram
 .segment _send_incomming_reset_TCP_local_near, size 2, fill, notext, sclass dram
 .sgraph _send_incomming_reset_TCP_formal_near, _send_incomming_reset_TCP_local_near, __send_incomming_reset_TCP
?send_incomming_reset_TCP_pmac = _send_incomming_reset_TCP_local_near+0 ; xdata unsigned char (*)[6]
 .sgraph _send_incomming_reset_TCP_local_near, _send_TCP_formal_near, __send_incomming_reset_TCP, 2
 .segment _send_TCP_formal_near, size 4, fill, notext, sclass dram
 .show

 .segment __send_incomming_reset_TCP
_send_incomming_reset_TCP: ; void send_incomming_reset_TCP(unsigned int, xdata unsigned char (*)[6], unsigned long)
 ; parameter 'ipl' in 'RL0123' assigned to 'B1_RL12131415'
 ; parameter 'pmac' in 'RW45' moved and assigned to local '?send_incomming_reset_TCP_pmac'
 ; parameter 'dlen' in 'RW67' assigned to 'RW23'
 mov ?send_incomming_reset_TCP_pmac,R4
 mov ?send_incomming_reset_TCP_pmac+1,R5
 lcall __movel_0_12
 mov R2,AR6
 mov R3,AR7
 .line "tcpip\net.c" 709 75
 mov DPTR,#_hframe+2
 lcall __ld_dptr_r45
 ; variable 'sport' assigned to register 'RW45'
 .line "tcpip\net.c" 716 1
 mov DPTR,#_hframe
 lcall __ld_dptr_r67
 mov DPTR,#_hframe+2
 lcall __st_dptr_r67
 .line "tcpip\net.c" 717 1
 mov DPTR,#_hframe
 lcall __st_dptr_r45
 .line "tcpip\net.c" 720 1
 mov DPTR,#_hframe+14
 clr A
 movx @DPTR,A
 inc DPTR
 movx @DPTR,A
 .line "tcpip\net.c" 721 1
 clr A
 mov R1,A
 mov R0,A
 mov DPTR,#_hframe+4
 lcall __ld_dptr_r47
 lcall __add_i4
 ; variable 'ack' assigned to register 'B1_RL891011'
 lcall __movel_4_8
 .line "tcpip\net.c" 722 4
 mov DPTR,#_hframe+13
 movx A,@DPTR
 mov R7,A
 anl A,#3
 mov R7,A
 jz ?81
 .line "tcpip\net.c" 722 42
 inc AR11
 mov A,AR11
 jnz ?_34
 inc AR10
 mov A,AR10
 jnz ?_34
 inc AR9
 mov A,AR9
 jnz ?_34
 inc AR8
?_34:
?81:
 .line "tcpip\net.c" 723 1
 mov DPTR,#_hframe+8
 lcall __ld_dptr_r47
 mov DPTR,#_hframe+4
 lcall __st_dptr_r47
 .line "tcpip\net.c" 724 1
 lcall __movel_8_4
 mov DPTR,#_hframe+8
 lcall __st_dptr_r47
 .line "tcpip\net.c" 725 1
 mov DPTR,#_hframe+13
 mov A,#20
 movx @DPTR,A
 .line "tcpip\net.c" 727 1
 mov _send_TCP_formal_near,AR12
 mov _send_TCP_formal_near+1,AR13
 mov _send_TCP_formal_near+2,AR14
 mov _send_TCP_formal_near+3,AR15
 mov R2,?send_incomming_reset_TCP_pmac
 mov R3,?send_incomming_reset_TCP_pmac+1
 clr A
 mov R4,A
 mov R5,A
 clr A
 mov R6,A
 mov R7,A
 lcall _send_TCP
 ret
; end of function send_incomming_reset_TCP
; used: R01234567 BR01234567 DPTR ACC PSW B locals:2 bytes

 .export _send_match_ok_TCP ; void send_match_ok_TCP(xdata unsigned char *, unsigned int, unsigned char)
 .hide
 .segment _send_match_ok_TCP_formal_near, size 0, fill, notext, sclass dram
 .segment _send_match_ok_TCP_local_near, size 0, fill, notext, sclass dram
 .sgraph _send_match_ok_TCP_formal_near, _send_match_ok_TCP_local_near, __send_match_ok_TCP
 .sgraph _send_match_ok_TCP_local_near, _send_TCP_formal_near, __send_match_ok_TCP, 0
 .segment _send_TCP_formal_near, size 4, fill, notext, sclass dram
 .show

 .segment __send_match_ok_TCP
_send_match_ok_TCP: ; void send_match_ok_TCP(xdata unsigned char *, unsigned int, unsigned char)
 ; parameter 'flags' in 'R3'
 ; parameter 'dlen' in 'RW45' assigned to 'RW01'
 ; parameter 'pdata' in 'RW67' assigned to 'B1_RW1213'
 mov R0,AR4
 mov R1,AR5
 mov AR12,R6
 mov AR13,R7
 .line "tcpip\net.c" 739 66
 mov DPTR,#_match_socket+14
 lcall __ld_dptr_r67
 mov DPTR,#_hframe
 lcall __st_dptr_r67
 .line "tcpip\net.c" 743 1
 mov DPTR,#_match_socket+12
 lcall __ld_dptr_r67
 mov DPTR,#_hframe+2
 lcall __st_dptr_r67
 .line "tcpip\net.c" 746 1
 mov DPTR,#_hframe+14
 mov A,#5
 movx @DPTR,A
 inc DPTR
 mov A,#120
 movx @DPTR,A
 ; variable 'seq' assigned to register 'B1_RL891011'
 .line "tcpip\net.c" 748 1
 mov DPTR,#_match_socket+20
 movx A,@DPTR
 mov AR8,A
 inc DPTR
 movx A,@DPTR
 mov AR9,A
 inc DPTR
 movx A,@DPTR
 mov AR10,A
 inc DPTR
 movx A,@DPTR
 mov AR11,A
 .line "tcpip\net.c" 749 4
 mov A,R3
 anl A,#2
 mov R7,A
 jz ?84
 .line "tcpip\net.c" 749 20
 mov A,AR11
 dec AR11
 jnz ?_36
 mov A,AR10
 dec AR10
 jnz ?_36
 mov A,AR9
 dec AR9
 jnz ?_36
 dec AR8
?_36:
?84:
 .line "tcpip\net.c" 750 1
 lcall __movel_8_4
 mov DPTR,#_hframe+4
 lcall __st_dptr_r47
 .line "tcpip\net.c" 752 1
 mov DPTR,#_match_socket+16
 lcall __ld_dptr_r47
 mov DPTR,#_hframe+8
 lcall __st_dptr_r47
 .line "tcpip\net.c" 753 1
 mov DPTR,#_hframe+13
 mov A,R3
 movx @DPTR,A
 .line "tcpip\net.c" 757 1
 mov DPTR,#_match_socket+8
 lcall __ld_dptr_r47
 mov A,#_send_TCP_formal_near
 lcall __st_a_r47
 mov R2,#((_match_socket+2)>>8)&255
 mov R3,#(_match_socket+2)&255
 mov R4,AR0
 mov R5,AR1
 mov R6,AR12
 mov R7,AR13
 lcall _send_TCP
 ret
; end of function send_match_ok_TCP
; used: R01234567 BR01234567 DPTR ACC PSW B

 .export _state_machine_TCP ; unsigned int state_machine_TCP(unsigned int)
 .hide
 .segment _state_machine_TCP_formal_near, size 0, fill, notext, sclass dram
 .segment _state_machine_TCP_local_near, size 2, fill, notext, sclass dram
 .sgraph _state_machine_TCP_formal_near, _state_machine_TCP_local_near, __state_machine_TCP
?state_machine_TCP_dlen = _state_machine_TCP_local_near+0 ; unsigned int
 .sgraph _state_machine_TCP_local_near, _free_match_socket_formal_near, __state_machine_TCP, 2
 .segment _free_match_socket_formal_near, size 0, fill, notext, sclass dram
 .sgraph _state_machine_TCP_local_near, _send_match_ok_TCP_formal_near, __state_machine_TCP, 2
 .segment _send_match_ok_TCP_formal_near, size 0, fill, notext, sclass dram
 .sgraph _state_machine_TCP_local_near, _Read_Frame_xdata_Phy_formal_near, __state_machine_TCP, 2
 .segment _Read_Frame_xdata_Phy_formal_near, size 0, fill, notext, sclass dram
 .sgraph _state_machine_TCP_local_near, _free_tx_buf_formal_near, __state_machine_TCP, 2
 .segment _free_tx_buf_formal_near, size 0, fill, notext, sclass dram
 .sgraph _state_machine_TCP_local_near, _free_tx_buf_formal_near, __state_machine_TCP, 2
 .segment _free_tx_buf_formal_near, size 0, fill, notext, sclass dram
 .sgraph _state_machine_TCP_local_near, _free_tx_buf_formal_near, __state_machine_TCP, 2
 .segment _free_tx_buf_formal_near, size 0, fill, notext, sclass dram
 .sgraph _state_machine_TCP_local_near, _free_tx_buf_formal_near, __state_machine_TCP, 2
 .segment _free_tx_buf_formal_near, size 0, fill, notext, sclass dram
 .sgraph _state_machine_TCP_local_near, _free_tx_buf_formal_near, __state_machine_TCP, 2
 .segment _free_tx_buf_formal_near, size 0, fill, notext, sclass dram
 .sgraph _state_machine_TCP_local_near, _free_tx_buf_formal_near, __state_machine_TCP, 2
 .segment _free_tx_buf_formal_near, size 0, fill, notext, sclass dram
 .sgraph _state_machine_TCP_local_near, _send_match_ok_TCP_formal_near, __state_machine_TCP, 2
 .segment _send_match_ok_TCP_formal_near, size 0, fill, notext, sclass dram
 .sgraph _state_machine_TCP_local_near, _send_match_ok_TCP_formal_near, __state_machine_TCP, 2
 .segment _send_match_ok_TCP_formal_near, size 0, fill, notext, sclass dram
 .sgraph _state_machine_TCP_local_near, _send_match_ok_TCP_formal_near, __state_machine_TCP, 2
 .segment _send_match_ok_TCP_formal_near, size 0, fill, notext, sclass dram
 .sgraph _state_machine_TCP_local_near, _free_match_socket_formal_near, __state_machine_TCP, 2
 .segment _free_match_socket_formal_near, size 0, fill, notext, sclass dram
 .sgraph _state_machine_TCP_local_near, _free_match_socket_formal_near, __state_machine_TCP, 2
 .segment _free_match_socket_formal_near, size 0, fill, notext, sclass dram
 .sgraph _state_machine_TCP_local_near, _free_match_socket_formal_near, __state_machine_TCP, 2
 .segment _free_match_socket_formal_near, size 0, fill, notext, sclass dram
 .sgraph _state_machine_TCP_local_near, _send_incomming_reset_TCP_formal_near, __state_machine_TCP, 0
 .segment _send_incomming_reset_TCP_formal_near, size 0, fill, notext, sclass dram
 .show

 .segment __state_machine_TCP
_state_machine_TCP: ; unsigned int state_machine_TCP(unsigned int)
 ; parameter 'dlen' in 'RW67' moved and assigned to local '?state_machine_TCP_dlen'
 mov ?state_machine_TCP_dlen,R6
 mov ?state_machine_TCP_dlen+1,R7
 .line "tcpip\net.c" 779 33
 mov DPTR,#_hframe+13
 movx A,@DPTR
 mov R7,A
 anl A,#4
 mov R7,A
 jz ?87
 .line "tcpip\net.c" 781 31
 lcall _free_match_socket
 .line "tcpip\net.c" 783 2
 mov DPTR,#_match_socket+1
 clr A
 movx @DPTR,A
 .line "tcpip\net.c" 784 9
 mov R6,#249
 mov R7,#0
 ljmp ?86
?87:
 .line "tcpip\net.c" 789 1
 mov DPTR,#_match_socket+25
 mov A,#6
 movx @DPTR,A
 .line "tcpip\net.c" 791 8
 mov DPTR,#_match_socket+1
 movx A,@DPTR
 mov R5,A
 mov R7,#4
 setb C
 mov A,R5
 subb A,R7
 jc ?_38
 ljmp ?89
?_38:
 mov DPTR,#?i129
 mov A,R5
 add A,R5
 jnc ?_39
 inc DPH
?_39:
 add A,DPL
 mov DPL,A
 jnc ?_40
 inc DPH
?_40:
 mov A,#1
 movc A,@A+DPTR
 push ACC
 clr A
 movc A,@A+DPTR
 push ACC
 ret
 .line "tcpip\net.c" 791 27
?92:
 .line "tcpip\net.c" 795 5
 mov DPTR,#_hframe+13
 movx A,@DPTR
 mov R7,A
 anl A,#2
 mov R7,A
 jnz ?93
 .line "tcpip\net.c" 795 36
 ljmp ?90
?93:
 .line "tcpip\net.c" 804 2
 mov DPTR,#_remote_mac
 lcall __ld_dptr_r47
 mov DPTR,#_match_socket+2
 lcall __st_dptr_r47
 .line "tcpip\net.c" 805 2
 mov DPTR,#_remote_mac+4
 lcall __ld_dptr_r67
 mov DPTR,#_match_socket+2+4
 lcall __st_dptr_r67
 .line "tcpip\net.c" 809 2
 mov DPTR,#_remote_ip
 lcall __ld_dptr_r47
 mov DPTR,#_match_socket+8
 lcall __st_dptr_r47
 .line "tcpip\net.c" 810 2
 mov DPTR,#_hframe
 lcall __ld_dptr_r67
 mov DPTR,#_match_socket+12
 lcall __st_dptr_r67
 .line "tcpip\net.c" 812 2
 mov R6,?state_machine_TCP_dlen
 mov R7,?state_machine_TCP_dlen+1
 mov R3,AR7
 mov R2,AR6
 clr A
 mov R1,A
 mov R0,A
 mov DPTR,#_hframe+4
 lcall __ld_dptr_r47
 lcall __add_i4
 clr A
 mov R0,A
 mov R1,A
 mov R2,A
 mov R3,#1
 lcall __add_i4
 mov DPTR,#_match_socket+16
 lcall __st_dptr_r47
 .line "tcpip\net.c" 813 2
 mov R7,_net_service_cnt
 mov R6,#0
 mov DPTR,#_match_socket+20
 lcall __st_dptr_r67
 .line "tcpip\net.c" 814 2
 mov DPTR,#_match_socket+20+2
 clr A
 movx @DPTR,A
 inc DPTR
 movx @DPTR,A
 .line "tcpip\net.c" 816 2
 mov R3,#18
 clr A
 mov R4,A
 mov R5,A
 clr A
 mov R6,A
 mov R7,A
 lcall _send_match_ok_TCP
 .line "tcpip\net.c" 819 2
 mov DPTR,#_match_socket+1
 mov A,#1
 movx @DPTR,A
 .line "tcpip\net.c" 820 2
 mov DPTR,#_match_socket+24
 clr A
 movx @DPTR,A
 .line "tcpip\net.c" 821 9
 mov R6,#242
 mov R7,#0
 ljmp ?86
?95:
 .line "tcpip\net.c" 833 5
 mov DPTR,#_hframe+13
 movx A,@DPTR
 mov R7,A
 anl A,#16
 mov R7,A
 jnz ?96
 .line "tcpip\net.c" 833 36
 ljmp ?90
?96:
 .line "tcpip\net.c" 834 5
 mov R4,#5
 mov R5,#120
 mov R6,?state_machine_TCP_dlen
 mov R7,?state_machine_TCP_dlen+1
 setb C
 mov A,R7
 subb A,R5
 mov A,R6
 subb A,R4
 jc ?98
 .line "tcpip\net.c" 834 17
 mov ?state_machine_TCP_dlen,#5
 mov ?state_machine_TCP_dlen+1,#120
?98:
 .line "tcpip\net.c" 840 5
 mov DPTR,#_hframe+4
 lcall __ld_dptr_r03
 mov DPTR,#_match_socket+16
 lcall __ld_dptr_r47
 clr C
 lcall __cmp_i4
 jz ?100
 .line "tcpip\net.c" 840 55
 mov R6,#243
 mov R7,#0
 ljmp ?86
?100:
 .line "tcpip\net.c" 842 2
 mov DPTR,#_match_socket+1
 mov A,#2
 movx @DPTR,A
 .line "tcpip\net.c" 844 2
 mov R6,?state_machine_TCP_dlen
 mov R7,?state_machine_TCP_dlen+1
 mov R3,AR7
 mov R2,AR6
 clr A
 mov R1,A
 mov R0,A
 mov DPTR,#_match_socket+16
 lcall __ld_dptr_r47
 lcall __add_i4
 mov DPTR,#_match_socket+16
 lcall __st_dptr_r47
 .line "tcpip\net.c" 846 2
 mov R4,?state_machine_TCP_dlen
 mov R5,?state_machine_TCP_dlen+1
 mov R6,#((_rcv_buf)>>8)&255
 mov R7,#(_rcv_buf)&255
 lcall _Read_Frame_xdata_Phy
 .line "tcpip\net.c" 852 2
 mov R6,?state_machine_TCP_dlen
 mov R7,?state_machine_TCP_dlen+1
 mov DPTR,#_rcv_len
 lcall __st_dptr_r67
 .line "tcpip\net.c" 855 5
 mov DPTR,#_match_socket+26
 lcall __ld_dptr_r67
 mov A,R6
 orl A,R7
 jz ?102
 mov DPTR,#_match_socket+28
 lcall __ld_dptr_r03
 mov DPTR,#_hframe+8
 lcall __ld_dptr_r47
 clr C
 lcall __cmp_i4
 jnz ?102
 .line "tcpip\net.c" 855 76
 mov DPTR,#_match_socket+32
 lcall __ld_dptr_r67
 lcall _free_tx_buf
 .line "tcpip\net.c" 858 3
 mov DPTR,#_match_socket+40
 lcall __ld_dptr_r67
 lcall _free_tx_buf
 .line "tcpip\net.c" 859 3
 mov DPTR,#_match_socket+48
 lcall __ld_dptr_r67
 lcall _free_tx_buf
 .line "tcpip\net.c" 860 3
 mov DPTR,#_match_socket+26
 clr A
 movx @DPTR,A
 inc DPTR
 movx @DPTR,A
 .line "tcpip\net.c" 861 3
 mov DPTR,#_match_socket+34
 clr A
 movx @DPTR,A
 inc DPTR
 movx @DPTR,A
 .line "tcpip\net.c" 862 3
 mov DPTR,#_match_socket+42
 clr A
 movx @DPTR,A
 inc DPTR
 movx @DPTR,A
 .line "tcpip\net.c" 865 2
 ljmp ?103
?102:
 .line "tcpip\net.c" 865 11
 mov DPTR,#_match_socket+34
 lcall __ld_dptr_r67
 mov A,R6
 orl A,R7
 jz ?104
 mov DPTR,#_match_socket+36
 lcall __ld_dptr_r03
 mov DPTR,#_hframe+8
 lcall __ld_dptr_r47
 clr C
 lcall __cmp_i4
 jnz ?104
 .line "tcpip\net.c" 865 82
 mov DPTR,#_match_socket+40
 lcall __ld_dptr_r67
 lcall _free_tx_buf
 .line "tcpip\net.c" 868 3
 mov DPTR,#_match_socket+48
 lcall __ld_dptr_r67
 lcall _free_tx_buf
 .line "tcpip\net.c" 870 3
 mov DPTR,#_match_socket+28
 lcall __ld_dptr_r47
 mov DPTR,#_match_socket+44
 lcall __st_dptr_r47
 .line "tcpip\net.c" 871 3
 mov DPTR,#_match_socket+32
 lcall __ld_dptr_r67
 mov DPTR,#_match_socket+48
 lcall __st_dptr_r67
 .line "tcpip\net.c" 872 3
 mov DPTR,#_match_socket+26
 lcall __ld_dptr_r67
 mov DPTR,#_match_socket+42
 lcall __st_dptr_r67
 .line "tcpip\net.c" 874 3
 mov DPTR,#_match_socket+34
 clr A
 movx @DPTR,A
 inc DPTR
 movx @DPTR,A
 .line "tcpip\net.c" 875 3
 mov DPTR,#_match_socket+26
 clr A
 movx @DPTR,A
 inc DPTR
 movx @DPTR,A
 .line "tcpip\net.c" 878 2
 ljmp ?105
?104:
 .line "tcpip\net.c" 878 11
 mov DPTR,#_match_socket+42
 lcall __ld_dptr_r67
 mov A,R6
 orl A,R7
 jz ?106
 mov DPTR,#_match_socket+44
 lcall __ld_dptr_r03
 mov DPTR,#_hframe+8
 lcall __ld_dptr_r47
 clr C
 lcall __cmp_i4
 jnz ?106
 .line "tcpip\net.c" 878 82
 mov DPTR,#_match_socket+48
 lcall __ld_dptr_r67
 lcall _free_tx_buf
 .line "tcpip\net.c" 882 3
 mov DPTR,#_match_socket+36
 lcall __ld_dptr_r47
 mov DPTR,#_match_socket+44
 lcall __st_dptr_r47
 .line "tcpip\net.c" 883 3
 mov DPTR,#_match_socket+40
 lcall __ld_dptr_r67
 mov DPTR,#_match_socket+48
 lcall __st_dptr_r67
 .line "tcpip\net.c" 884 3
 mov DPTR,#_match_socket+34
 lcall __ld_dptr_r67
 mov DPTR,#_match_socket+42
 lcall __st_dptr_r67
 .line "tcpip\net.c" 886 3
 mov DPTR,#_match_socket+28
 lcall __ld_dptr_r47
 mov DPTR,#_match_socket+36
 lcall __st_dptr_r47
 .line "tcpip\net.c" 887 3
 mov DPTR,#_match_socket+32
 lcall __ld_dptr_r67
 mov DPTR,#_match_socket+40
 lcall __st_dptr_r67
 .line "tcpip\net.c" 888 3
 mov DPTR,#_match_socket+26
 lcall __ld_dptr_r67
 mov DPTR,#_match_socket+34
 lcall __st_dptr_r67
 .line "tcpip\net.c" 890 3
 mov DPTR,#_match_socket+26
 clr A
 movx @DPTR,A
 inc DPTR
 movx @DPTR,A
 .line "tcpip\net.c" 892 2
?106:
?105:
?103:
 .line "tcpip\net.c" 896 5
 mov DPTR,#_hframe+13
 movx A,@DPTR
 mov R7,A
 anl A,#1
 mov R7,A
 jnz ?108
 .line "tcpip\net.c" 896 35
 mov A,?state_machine_TCP_dlen
 orl A,?state_machine_TCP_dlen+1
 jnz ?112
 mov DPTR,#_hframe+13
 movx A,@DPTR
 mov R7,A
 anl A,#2
 mov R7,A
 jnz ?_53
 ljmp ?109
?_53:
?112:
 .line "tcpip\net.c" 897 44
 mov R3,#16
 clr A
 mov R4,A
 mov R5,A
 clr A
 mov R6,A
 mov R7,A
 lcall _send_match_ok_TCP
 .line "tcpip\net.c" 898 2
 sjmp ?109
?108:
 .line "tcpip\net.c" 898 11
 mov DPTR,#_hframe+13
 movx A,@DPTR
 mov R7,A
 anl A,#1
 mov R7,A
 jz ?113
 .line "tcpip\net.c" 898 38
 clr A
 mov R0,A
 mov R1,A
 mov R2,A
 mov R3,#1
 mov DPTR,#_match_socket+16
 lcall __ld_dptr_r47
 lcall __add_i4
 mov DPTR,#_match_socket+16
 lcall __st_dptr_r47
 .line "tcpip\net.c" 900 3
 mov R3,#25
 clr A
 mov R4,A
 mov R5,A
 clr A
 mov R6,A
 mov R7,A
 lcall _send_match_ok_TCP
 .line "tcpip\net.c" 901 3
 clr A
 mov R0,A
 mov R1,A
 mov R2,A
 mov R3,#1
 mov DPTR,#_match_socket+20
 lcall __ld_dptr_r47
 lcall __add_i4
 mov DPTR,#_match_socket+20
 lcall __st_dptr_r47
 .line "tcpip\net.c" 902 3
 mov DPTR,#_match_socket+1
 mov A,#4
 movx @DPTR,A
 .line "tcpip\net.c" 903 2
?113:
?109:
 .line "tcpip\net.c" 906 5
 mov DPTR,#_match_socket+42
 lcall __ld_dptr_r67
 mov A,R6
 orl A,R7
 jnz ?115
 .line "tcpip\net.c" 906 33
 mov DPTR,#_match_socket+24
 clr A
 movx @DPTR,A
?115:
 .line "tcpip\net.c" 907 9
 mov R6,#245
 mov R7,#0
 ljmp ?86
?117:
 .line "tcpip\net.c" 911 5
 mov DPTR,#_hframe+13
 movx A,@DPTR
 mov R7,A
 anl A,#16
 mov R7,A
 jnz ?118
 .line "tcpip\net.c" 911 36
 ljmp ?90
?118:
 .line "tcpip\net.c" 914 5
 mov DPTR,#_hframe+4
 lcall __ld_dptr_r03
 mov DPTR,#_match_socket+16
 lcall __ld_dptr_r47
 clr C
 lcall __cmp_i4
 jz ?120
 .line "tcpip\net.c" 914 55
 mov R6,#243
 mov R7,#0
 ljmp ?86
?120:
 .line "tcpip\net.c" 916 5
 mov DPTR,#_hframe+13
 movx A,@DPTR
 mov R7,A
 anl A,#1
 mov R7,A
 jz ?122
 .line "tcpip\net.c" 916 32
 clr A
 mov R0,A
 mov R1,A
 mov R2,A
 mov R3,#1
 mov DPTR,#_match_socket+16
 lcall __ld_dptr_r47
 lcall __add_i4
 mov DPTR,#_match_socket+16
 lcall __st_dptr_r47
 .line "tcpip\net.c" 918 3
 mov R3,#16
 clr A
 mov R4,A
 mov R5,A
 clr A
 mov R6,A
 mov R7,A
 lcall _send_match_ok_TCP
 .line "tcpip\net.c" 919 3
 lcall _free_match_socket
 .line "tcpip\net.c" 920 3
 mov DPTR,#_match_socket+1
 clr A
 movx @DPTR,A
 .line "tcpip\net.c" 922 2
?122:
 .line "tcpip\net.c" 923 2
 mov DPTR,#_match_socket+24
 clr A
 movx @DPTR,A
 .line "tcpip\net.c" 924 9
 mov R6,#251
 mov R7,#0
 ljmp ?86
?124:
 .line "tcpip\net.c" 927 5
 mov DPTR,#_hframe+13
 movx A,@DPTR
 mov R7,A
 anl A,#16
 mov R7,A
 .line "tcpip\net.c" 927 36
 jz ?90
 .line "tcpip\net.c" 928 5
 mov DPTR,#_hframe+4
 lcall __ld_dptr_r03
 mov DPTR,#_match_socket+16
 lcall __ld_dptr_r47
 clr C
 lcall __cmp_i4
 jz ?127
 .line "tcpip\net.c" 928 55
 mov R6,#243
 mov R7,#0
 sjmp ?86
?127:
 .line "tcpip\net.c" 930 2
 mov DPTR,#_match_socket+1
 clr A
 movx @DPTR,A
 .line "tcpip\net.c" 931 2
 lcall _free_match_socket
 .line "tcpip\net.c" 933 2
 mov DPTR,#_match_socket+24
 clr A
 movx @DPTR,A
 .line "tcpip\net.c" 934 9
 mov R6,#252
 mov R7,#0
 sjmp ?86
?89:
?90:
 .line "tcpip\net.c" 937 1
 lcall _free_match_socket
 .line "tcpip\net.c" 938 1
 mov DPTR,#_match_socket+1
 clr A
 movx @DPTR,A
 .line "tcpip\net.c" 940 1
 mov DPTR,#_remote_ip
 lcall __ld_dptr_r03
 mov R4,#((_remote_mac)>>8)&255
 mov R5,#(_remote_mac)&255
 mov R6,?state_machine_TCP_dlen
 mov R7,?state_machine_TCP_dlen+1
 lcall _send_incomming_reset_TCP
 .line "tcpip\net.c" 945 8
 mov R6,#248
 mov R7,#0
?86:
 ret
?i129: ; void (*code [5])()
 .dc.w ?92
 .dc.w ?95
 .dc.w ?95
 .dc.w ?117
 .dc.w ?124
; end of function state_machine_TCP
; used: R01234567 BR01234567 DPTR ACC PSW B locals:2 bytes

 .export _final_timeout_socket ; unsigned int final_timeout_socket(void)
 .hide
 .segment _final_timeout_socket_formal_near, size 0, fill, notext, sclass dram
 .segment _final_timeout_socket_local_near, size 0, fill, notext, sclass dram
 .sgraph _final_timeout_socket_formal_near, _final_timeout_socket_local_near, __final_timeout_socket
 .sgraph _final_timeout_socket_local_near, _send_match_ok_TCP_formal_near, __final_timeout_socket, 0
 .segment _send_match_ok_TCP_formal_near, size 0, fill, notext, sclass dram
 .sgraph _final_timeout_socket_local_near, _free_match_socket_formal_near, __final_timeout_socket, 0
 .segment _free_match_socket_formal_near, size 0, fill, notext, sclass dram
 .show

 .segment __final_timeout_socket
_final_timeout_socket: ; unsigned int final_timeout_socket(void)
 .line "tcpip\net.c" 953 31
 mov DPTR,#_match_socket
 movx A,@DPTR
 mov R7,A
 cjne R7,#2,?131
 .line "tcpip\net.c" 956 33
 mov R3,#4
 clr A
 mov R4,A
 mov R5,A
 clr A
 mov R6,A
 mov R7,A
 lcall _send_match_ok_TCP
 .line "tcpip\net.c" 961 2
 lcall _free_match_socket
 .line "tcpip\net.c" 963 2
 mov DPTR,#_match_socket+1
 clr A
 movx @DPTR,A
 .line "tcpip\net.c" 964 9
 mov R6,#250
 mov R7,#0
 sjmp ?130
?131:
 .line "tcpip\net.c" 966 1
 mov DPTR,#_match_socket+1
 clr A
 movx @DPTR,A
 .line "tcpip\net.c" 967 8
 mov R6,#208
 mov R7,#0
?130:
 ret
; end of function final_timeout_socket
; used: R01234567 BR01234567 DPTR ACC PSW B

 .export _retransmit_socket ; unsigned int retransmit_socket(void)
 .hide
 .segment _retransmit_socket_formal_near, size 0, fill, notext, sclass dram
 .segment _retransmit_socket_local_near, size 4, fill, notext, sclass dram
 .sgraph _retransmit_socket_formal_near, _retransmit_socket_local_near, __retransmit_socket
?retransmit_socket_hseq = _retransmit_socket_local_near+0 ; unsigned long
 .sgraph _retransmit_socket_local_near, _send_match_ok_TCP_formal_near, __retransmit_socket, 0
 .segment _send_match_ok_TCP_formal_near, size 0, fill, notext, sclass dram
 .sgraph _retransmit_socket_local_near, _send_match_ok_TCP_formal_near, __retransmit_socket, 4
 .segment _send_match_ok_TCP_formal_near, size 0, fill, notext, sclass dram
 .sgraph _retransmit_socket_local_near, _send_match_ok_TCP_formal_near, __retransmit_socket, 0
 .segment _send_match_ok_TCP_formal_near, size 0, fill, notext, sclass dram
 .sgraph _retransmit_socket_local_near, _send_request_ARP_formal_near, __retransmit_socket, 0
 .segment _send_request_ARP_formal_near, size 0, fill, notext, sclass dram
 .show

 .segment __retransmit_socket
_retransmit_socket: ; unsigned int retransmit_socket(void)
 .line "tcpip\net.c" 975 28
 mov DPTR,#_match_socket
 movx A,@DPTR
 mov R7,A
 cjne R7,#2,?_63
 sjmp ?_64
?_63:
 ljmp ?134
?_64:
 .line "tcpip\net.c" 980 33
 mov DPTR,#_match_socket+1
 movx A,@DPTR
 mov R5,A
 mov R7,#1
 clr C
 mov A,R5
 subb A,R7
 jnc ?_65
 ljmp ?135
?_65:
 mov R7,#4
 setb C
 mov A,R5
 subb A,R7
 jc ?_66
 ljmp ?135
?_66:
 mov DPTR,#?i144-2
 mov A,R5
 add A,R5
 jnc ?_67
 inc DPH
?_67:
 add A,DPL
 mov DPL,A
 jnc ?_68
 inc DPH
?_68:
 mov A,#1
 movc A,@A+DPTR
 push ACC
 clr A
 movc A,@A+DPTR
 push ACC
 ret
 .line "tcpip\net.c" 981 28
?139:
 .line "tcpip\net.c" 983 3
 mov R3,#18
 clr A
 mov R4,A
 mov R5,A
 clr A
 mov R6,A
 mov R7,A
 lcall _send_match_ok_TCP
 .line "tcpip\net.c" 985 10
 mov R6,#241
 mov R7,#0
 ljmp ?133
?140:
 .line "tcpip\net.c" 989 6
 mov DPTR,#_match_socket+42
 lcall __ld_dptr_r67
 mov A,R6
 orl A,R7
 jz ?141
 ; variable 'hseq' allocated as 'auto'
 .line "tcpip\net.c" 989 32
 mov DPTR,#_match_socket+20
 movx A,@DPTR
 mov ?retransmit_socket_hseq,A
 inc DPTR
 movx A,@DPTR
 mov ?retransmit_socket_hseq+1,A
 inc DPTR
 movx A,@DPTR
 mov ?retransmit_socket_hseq+2,A
 inc DPTR
 movx A,@DPTR
 mov ?retransmit_socket_hseq+3,A
 .line "tcpip\net.c" 995 4
 mov DPTR,#_match_socket+42
 lcall __ld_dptr_r67
 mov R3,AR7
 mov R2,AR6
 clr A
 mov R1,A
 mov R0,A
 mov DPTR,#_match_socket+44
 lcall __ld_dptr_r47
 lcall __sub_i4
 mov DPTR,#_match_socket+20
 lcall __st_dptr_r47
 .line "tcpip\net.c" 996 4
 mov R3,#24
 mov DPTR,#_match_socket+42
 lcall __ld_dptr_r45
 mov DPTR,#_match_socket+48
 lcall __ld_dptr_r67
 lcall _send_match_ok_TCP
 .line "tcpip\net.c" 997 4
 mov A,#?retransmit_socket_hseq
 lcall __ld_a_r47
 mov DPTR,#_match_socket+20
 lcall __st_dptr_r47
 .line "tcpip\net.c" 998 11
 mov R6,#241
 mov R7,#0
 ljmp ?133
?141:
 .line "tcpip\net.c" 1011 3
 mov DPTR,#_match_socket+25
 mov A,#40
 movx @DPTR,A
 .line "tcpip\net.c" 1013 10
 clr A
 mov R6,A
 mov R7,A
 ljmp ?133
?143:
 .line "tcpip\net.c" 1017 3
 mov R3,#25
 clr A
 mov R4,A
 mov R5,A
 clr A
 mov R6,A
 mov R7,A
 lcall _send_match_ok_TCP
 .line "tcpip\net.c" 1019 10
 mov R6,#241
 mov R7,#0
 sjmp ?133
 .line "tcpip\net.c" 1043 1
?134:
 .line "tcpip\net.c" 1047 13
 mov DPTR,#_match_socket
 movx A,@DPTR
 mov R7,A
 cjne R7,#1,?145
 .line "tcpip\net.c" 1047 42
 mov DPTR,#_match_socket+1
 movx A,@DPTR
 mov R7,A
 xrl A,#6
 .line "tcpip\net.c" 1048 35
 jnz ?147
 .line "tcpip\net.c" 1050 12
 mov DPTR,#_match_socket+8
 lcall __ld_dptr_r47
 lcall _send_request_ARP
 .line "tcpip\net.c" 1052 19
 mov R6,#227
 mov R7,#0
 sjmp ?133
?147:
 .line "tcpip\net.c" 1057 12
 mov DPTR,#_match_socket+24
 clr A
 movx @DPTR,A
 .line "tcpip\net.c" 1058 12
 mov DPTR,#_match_socket+25
 mov A,#40
 movx @DPTR,A
 .line "tcpip\net.c" 1059 19
 clr A
 mov R6,A
 mov R7,A
 sjmp ?133
?145:
?135:
 .line "tcpip\net.c" 1066 8
 mov R6,#209
 mov R7,#0
?133:
 ret
?i144: ; void (*code [4])()
 .dc.w ?139
 .dc.w ?140
 .dc.w ?143
 .dc.w ?143
; end of function retransmit_socket
; used: R01234567 BR01234567 DPTR ACC PSW B locals:4 bytes

 .export _periodical_socket ; unsigned int periodical_socket(void)
 .hide
 .segment _periodical_socket_formal_near, size 0, fill, notext, sclass dram
 .segment _periodical_socket_local_near, size 1, fill, notext, sclass dram
 .sgraph _periodical_socket_formal_near, _periodical_socket_local_near, __periodical_socket
?i156 = _periodical_socket_local_near+0 ; unsigned char
 .sgraph _periodical_socket_local_near, _final_timeout_socket_formal_near, __periodical_socket, 1
 .segment _final_timeout_socket_formal_near, size 0, fill, notext, sclass dram
 .sgraph _periodical_socket_local_near, _retransmit_socket_formal_near, __periodical_socket, 0
 .segment _retransmit_socket_formal_near, size 0, fill, notext, sclass dram
 .show

 .segment __periodical_socket
_periodical_socket: ; unsigned int periodical_socket(void)
 .line "tcpip\net.c" 1074 28
 mov DPTR,#_match_socket+25
 movx A,@DPTR
 mov R7,A
 dec R7
 ; variable 'h' assigned to register 'R7'
 .line "tcpip\net.c" 1079 4
 mov A,R7
 jz ?152
 .line "tcpip\net.c" 1079 6
 mov DPTR,#_match_socket+25
 mov A,R7
 movx @DPTR,A
 .line "tcpip\net.c" 1081 9
 clr A
 mov R6,A
 mov R7,A
 sjmp ?151
?152:
 .line "tcpip\net.c" 1085 1
 mov DPTR,#_match_socket+25
 mov A,#6
 movx @DPTR,A
 .line "tcpip\net.c" 1086 1
 mov DPTR,#_match_socket+24
 movx A,@DPTR
 mov R7,A
 inc R7
 ; variable 'h' allocated as 'auto'
 mov ?i156,R7
 .line "tcpip\net.c" 1087 4
 mov A,#4
 xrl A,?i156
 jnz ?154
 .line "tcpip\net.c" 1087 10
 lcall _final_timeout_socket
 sjmp ?151
?154:
 .line "tcpip\net.c" 1089 6
 mov R7,?i156
 mov DPTR,#_match_socket+24
 mov A,R7
 movx @DPTR,A
 .line "tcpip\net.c" 1091 9
 lcall _retransmit_socket
?151:
 ret
; end of function periodical_socket
; used: R01234567 BR01234567 DPTR ACC PSW B locals:1 bytes

 .export _process_TCP ; unsigned int process_TCP(unsigned int)
 .hide
 .segment _process_TCP_formal_near, size 0, fill, notext, sclass dram
 .segment _process_TCP_local_near, size 7, fill, notext, sclass dram
 .sgraph _process_TCP_formal_near, _process_TCP_local_near, __process_TCP
?i186 = _process_TCP_local_near+2 ; xdata UC_SOCKET *
?process_TCP_psock = _process_TCP_local_near+2 ; xdata UC_SOCKET *
?i187 = _process_TCP_local_near+4 ; unsigned char
?process_TCP_ui = _process_TCP_local_near+4 ; unsigned char
?process_TCP_ohlen = _process_TCP_local_near+2 ; unsigned char
?process_TCP_dlen = _process_TCP_local_near+0 ; unsigned int
?i185 = _process_TCP_local_near+0 ; unsigned int
?i188 = _process_TCP_local_near+5 ; unsigned int
?process_TCP_res = _process_TCP_local_near+5 ; unsigned int
 .sgraph _process_TCP_local_near, _Read_Frame_xdata_Phy_formal_near, __process_TCP, 2
 .segment _Read_Frame_xdata_Phy_formal_near, size 0, fill, notext, sclass dram
 .sgraph _process_TCP_local_near, _Read_Frame_long_Phy_formal_near, __process_TCP, 3
 .segment _Read_Frame_long_Phy_formal_near, size 0, fill, notext, sclass dram
 .sgraph _process_TCP_local_near, _xram_fast_copy_formal_near, __process_TCP, 5
 .segment _xram_fast_copy_formal_near, size 0, fill, notext, sclass dram
 .sgraph _process_TCP_local_near, _state_machine_TCP_formal_near, __process_TCP, 5
 .segment _state_machine_TCP_formal_near, size 0, fill, notext, sclass dram
 .sgraph _process_TCP_local_near, _xram_fast_copy_formal_near, __process_TCP, 7
 .segment _xram_fast_copy_formal_near, size 0, fill, notext, sclass dram
 .sgraph _process_TCP_local_near, _xram_fast_copy_formal_near, __process_TCP, 5
 .segment _xram_fast_copy_formal_near, size 0, fill, notext, sclass dram
 .sgraph _process_TCP_local_near, _state_machine_TCP_formal_near, __process_TCP, 5
 .segment _state_machine_TCP_formal_near, size 0, fill, notext, sclass dram
 .sgraph _process_TCP_local_near, _xram_fast_copy_formal_near, __process_TCP, 7
 .segment _xram_fast_copy_formal_near, size 0, fill, notext, sclass dram
 .sgraph _process_TCP_local_near, _send_incomming_reset_TCP_formal_near, __process_TCP, 0
 .segment _send_incomming_reset_TCP_formal_near, size 0, fill, notext, sclass dram
 .show

 .segment __process_TCP
_process_TCP: ; unsigned int process_TCP(unsigned int)
 ; parameter 'dlen' in 'RW67' moved and assigned to local '?process_TCP_dlen'
 mov ?process_TCP_dlen,R6
 mov ?process_TCP_dlen+1,R7
 .line "tcpip\net.c" 1104 27
 mov R4,#0
 mov R5,#20
 mov R6,#((_hframe)>>8)&255
 mov R7,#(_hframe)&255
 lcall _Read_Frame_xdata_Phy
 ; variable 'dlen' allocated as 'auto'
 .line "tcpip\net.c" 1113 1
 mov A,#236
 add A,?process_TCP_dlen+1
 mov ?i185+1,A
 mov A,#255
 addc A,?process_TCP_dlen
 mov ?i185,A
 .line "tcpip\net.c" 1115 1
 mov DPTR,#_hframe+12
 movx A,@DPTR
 mov R7,A
 mov A,#176
 add A,R7
 mov R7,A
 ; variable 'ohlen' allocated as 'auto'
 mov ?process_TCP_ohlen,R7
 sjmp ?159
?158:
 .line "tcpip\net.c" 1116 13
 mov A,#-16
 add A,?process_TCP_ohlen
 mov ?process_TCP_ohlen,A
 .line "tcpip\net.c" 1118 2
 mov A,#252
 add A,?i185+1
 mov ?i185+1,A
 mov A,#255
 addc A,?i185
 mov ?i185,A
 .line "tcpip\net.c" 1119 2
 lcall _Read_Frame_long_Phy
 .line "tcpip\net.c" 1120 1
?159:
 .line "tcpip\net.c" 1116 7
 mov A,?process_TCP_ohlen
 jnz ?158
 ; variable 'psock' allocated as 'auto'
 .line "tcpip\net.c" 1129 5
 mov ?process_TCP_psock,#((_uc_socket)>>8)&255
 mov ?process_TCP_psock+1,#(_uc_socket)&255
 ; variable 'ui' allocated as 'auto'
 .line "tcpip\net.c" 1130 9
 clr A
 mov ?process_TCP_ui,A
?161:
 .line "tcpip\net.c" 1130 33
 mov DPH,?process_TCP_psock
 mov DPL,?process_TCP_psock+1
 movx A,@DPTR
 mov R7,A
 cjne R7,#2,?_76
 sjmp ?_77
?_76:
 ljmp ?165
?_77:
 .line "tcpip\net.c" 1131 35
 mov R6,?process_TCP_psock
 mov R7,?process_TCP_psock+1
 mov A,#8
 add A,R7
 mov R7,A
 clr A
 addc A,R6
 mov R6,A
 mov DPH,R6
 mov DPL,R7
 lcall __ld_dptr_r47
 mov DPTR,#_remote_ip
 lcall __ld_dptr_r03
 clr C
 lcall __cmp_i4
 jz ?_78
 ljmp ?167
?_78:
 .line "tcpip\net.c" 1133 50
 mov R6,?process_TCP_psock
 mov R7,?process_TCP_psock+1
 mov A,#12
 add A,R7
 mov R7,A
 clr A
 addc A,R6
 mov R6,A
 mov DPH,R6
 mov DPL,R7
 lcall __ld_dptr_r45
 mov DPTR,#_hframe
 lcall __ld_dptr_r67
 mov A,R5
 xrl A,R7
 jnz ?_79
 mov A,R4
 xrl A,R6
 jz ?_80
?_79:
 ljmp ?169
?_80:
 .line "tcpip\net.c" 1134 63
 mov R6,?process_TCP_psock
 mov R7,?process_TCP_psock+1
 mov A,#14
 add A,R7
 mov R7,A
 clr A
 addc A,R6
 mov R6,A
 mov DPH,R6
 mov DPL,R7
 lcall __ld_dptr_r45
 mov DPTR,#_hframe+2
 lcall __ld_dptr_r67
 mov A,R5
 xrl A,R7
 jnz ?_81
 mov A,R4
 xrl A,R6
 jz ?_82
?_81:
 sjmp ?171
?_82:
 .line "tcpip\net.c" 1135 66
 mov R2,#0
 mov R3,#50
 mov R4,#((_match_socket)>>8)&255
 mov R5,#(_match_socket)&255
 mov R6,?process_TCP_psock
 mov R7,?process_TCP_psock+1
 lcall _xram_fast_copy
 .line "tcpip\net.c" 1138 27
 mov R6,?i185
 mov R7,?i185+1
 lcall _state_machine_TCP
 ; variable 'res' allocated as 'auto'
 mov ?process_TCP_res,R6
 mov ?process_TCP_res+1,R7
 .line "tcpip\net.c" 1140 6
 mov R2,#0
 mov R3,#50
 mov R4,?process_TCP_psock
 mov R5,?process_TCP_psock+1
 mov R6,#((_match_socket)>>8)&255
 mov R7,#(_match_socket)&255
 lcall _xram_fast_copy
 .line "tcpip\net.c" 1141 34
 mov R7,?process_TCP_ui
 mov R5,AR7
 mov R4,#0
 mov R6,?process_TCP_res
 mov R7,?process_TCP_res+1
 mov A,R5
 add A,R7
 mov R7,A
 mov A,R4
 addc A,R6
 mov R6,A
 ljmp ?157
?171:
 .line "tcpip\net.c" 1143 18
?169:
 .line "tcpip\net.c" 1144 14
?167:
 .line "tcpip\net.c" 1145 9
?165:
 .line "tcpip\net.c" 1146 5
 inc ?process_TCP_ui
 mov A,#50
 add A,?process_TCP_psock+1
 mov ?process_TCP_psock+1,A
 clr A
 addc A,?process_TCP_psock
 mov ?process_TCP_psock,A
 .line "tcpip\net.c" 1130 14
 mov R5,#2
 mov R7,?process_TCP_ui
 clr C
 mov A,R7
 subb A,R5
 jnc ?_83
 ljmp ?161
?_83:
 .line "tcpip\net.c" 1149 8
 mov DPTR,#_hframe+13
 movx A,@DPTR
 mov R7,A
 anl A,#2
 mov R7,A
 jnz ?173
 .line "tcpip\net.c" 1149 46
 mov R6,#248
 mov R7,#0
 ljmp ?157
?173:
 ; variable 'psock' allocated as 'auto'
 .line "tcpip\net.c" 1151 5
 mov ?i186,#((_uc_socket)>>8)&255
 mov ?i186+1,#(_uc_socket)&255
 ; variable 'ui' allocated as 'auto'
 .line "tcpip\net.c" 1152 9
 clr A
 mov ?i187,A
?175:
 .line "tcpip\net.c" 1152 33
 mov DPH,?i186
 mov DPL,?i186+1
 movx A,@DPTR
 mov R7,A
 cjne R7,#2,?_85
 sjmp ?_86
?_85:
 ljmp ?179
?_86:
 .line "tcpip\net.c" 1153 35
 mov R6,?i186
 mov R7,?i186+1
 inc R7
 mov A,R7
 jnz ?__4
 inc R6
?__4:
 mov DPH,AR6
 mov DPL,AR7
 movx A,@DPTR
 mov R7,A
 jz ?_87
 ljmp ?181
?_87:
 mov R6,?i186
 mov R7,?i186+1
 mov A,#14
 add A,R7
 mov R7,A
 clr A
 addc A,R6
 mov R6,A
 mov DPH,R6
 mov DPL,R7
 lcall __ld_dptr_r45
 mov DPTR,#_hframe+2
 lcall __ld_dptr_r67
 mov A,R5
 xrl A,R7
 jnz ?_88
 mov A,R4
 xrl A,R6
 jz ?_89
?_88:
 sjmp ?181
?_89:
 .line "tcpip\net.c" 1154 77
 mov R2,#0
 mov R3,#50
 mov R4,#((_match_socket)>>8)&255
 mov R5,#(_match_socket)&255
 mov R6,?i186
 mov R7,?i186+1
 lcall _xram_fast_copy
 .line "tcpip\net.c" 1157 18
 mov R6,?i185
 mov R7,?i185+1
 lcall _state_machine_TCP
 ; variable 'res' allocated as 'auto'
 mov ?i188,R6
 mov ?i188+1,R7
 .line "tcpip\net.c" 1159 4
 mov R2,#0
 mov R3,#50
 mov R4,?i186
 mov R5,?i186+1
 mov R6,#((_match_socket)>>8)&255
 mov R7,#(_match_socket)&255
 lcall _xram_fast_copy
 .line "tcpip\net.c" 1160 22
 mov A,?i188
 orl A,?i188+1
 jz ?183
 .line "tcpip\net.c" 1160 34
 mov R7,?i187
 mov R5,AR7
 mov R4,#0
 mov R6,?i188
 mov R7,?i188+1
 mov A,R5
 add A,R7
 mov R7,A
 mov A,R4
 addc A,R6
 mov R6,A
 sjmp ?157
?183:
 .line "tcpip\net.c" 1161 14
?181:
 .line "tcpip\net.c" 1162 9
?179:
 .line "tcpip\net.c" 1163 5
 inc ?i187
 mov A,#50
 add A,?i186+1
 mov ?i186+1,A
 clr A
 addc A,?i186
 mov ?i186,A
 .line "tcpip\net.c" 1152 14
 mov R5,#2
 mov R7,?i187
 clr C
 mov A,R7
 subb A,R5
 jnc ?_91
 ljmp ?175
?_91:
 .line "tcpip\net.c" 1167 5
 mov DPTR,#_remote_ip
 lcall __ld_dptr_r03
 mov R4,#((_remote_mac)>>8)&255
 mov R5,#(_remote_mac)&255
 mov R6,?i185
 mov R7,?i185+1
 lcall _send_incomming_reset_TCP
 .line "tcpip\net.c" 1171 12
 mov R6,#240
 mov R7,#0
?157:
 ret
; end of function process_TCP
; used: R01234567 BR01234567 DPTR ACC PSW B locals:7 bytes

 .export _process_IP ; unsigned int process_IP(void)
 .hide
 .segment _process_IP_formal_near, size 0, fill, notext, sclass dram
 .segment _process_IP_local_near, size 5, fill, notext, sclass dram
 .sgraph _process_IP_formal_near, _process_IP_local_near, __process_IP
?process_IP_dlen = _process_IP_local_near+2 ; unsigned int
?i203 = _process_IP_local_near+2 ; unsigned int
?i206 = _process_IP_local_near+0 ; unsigned int
?process_IP_hdr = _process_IP_local_near+0 ; unsigned int
?process_IP_pcol = _process_IP_local_near+4 ; unsigned char
 .sgraph _process_IP_local_near, _Read_Frame_word_Phy_formal_near, __process_IP, 0
 .segment _Read_Frame_word_Phy_formal_near, size 0, fill, notext, sclass dram
 .sgraph _process_IP_local_near, _Read_Frame_word_Phy_formal_near, __process_IP, 2
 .segment _Read_Frame_word_Phy_formal_near, size 0, fill, notext, sclass dram
 .sgraph _process_IP_local_near, _Read_Frame_word_Phy_formal_near, __process_IP, 4
 .segment _Read_Frame_word_Phy_formal_near, size 0, fill, notext, sclass dram
 .sgraph _process_IP_local_near, _Read_Frame_word_Phy_formal_near, __process_IP, 4
 .segment _Read_Frame_word_Phy_formal_near, size 0, fill, notext, sclass dram
 .sgraph _process_IP_local_near, _Read_Frame_word_Phy_formal_near, __process_IP, 4
 .segment _Read_Frame_word_Phy_formal_near, size 0, fill, notext, sclass dram
 .sgraph _process_IP_local_near, _Read_Frame_word_Phy_formal_near, __process_IP, 5
 .segment _Read_Frame_word_Phy_formal_near, size 0, fill, notext, sclass dram
 .sgraph _process_IP_local_near, _Read_Frame_long_Phy_formal_near, __process_IP, 5
 .segment _Read_Frame_long_Phy_formal_near, size 0, fill, notext, sclass dram
 .sgraph _process_IP_local_near, _Read_Frame_long_Phy_formal_near, __process_IP, 5
 .segment _Read_Frame_long_Phy_formal_near, size 0, fill, notext, sclass dram
 .sgraph _process_IP_local_near, _Read_Frame_long_Phy_formal_near, __process_IP, 5
 .segment _Read_Frame_long_Phy_formal_near, size 0, fill, notext, sclass dram
 .sgraph _process_IP_local_near, _process_ICMP_formal_near, __process_IP, 5
 .segment _process_ICMP_formal_near, size 0, fill, notext, sclass dram
 .sgraph _process_IP_local_near, _process_TCP_formal_near, __process_IP, 5
 .segment _process_TCP_formal_near, size 0, fill, notext, sclass dram
 .sgraph _process_IP_local_near, _process_UDP_formal_near, __process_IP, 0
 .segment _process_UDP_formal_near, size 0, fill, notext, sclass dram
 .show

 .segment __process_IP
_process_IP: ; unsigned int process_IP(void)
 .line "tcpip\net.c" 1183 21
 lcall _Read_Frame_word_Phy
 ; variable 'hdr' allocated as 'auto'
 .line "tcpip\net.c" 1189 4
 mov ?process_IP_hdr,R6
 mov ?process_IP_hdr+1,R7
 mov R7,#0
 anl AR6,#240
 mov A,R7
 jnz ?_92
 mov A,R6
 xrl A,#64
 jz ?190
?_92:
 .line "tcpip\net.c" 1189 33
 mov R6,#192
 mov R7,#0
 ljmp ?189
?190:
 .line "tcpip\net.c" 1190 1
 lcall _Read_Frame_word_Phy
 ; variable 'dlen' allocated as 'auto'
 mov ?process_IP_dlen,R6
 mov ?process_IP_dlen+1,R7
 .line "tcpip\net.c" 1191 1
 lcall _Read_Frame_word_Phy
 .line "tcpip\net.c" 1193 4
 lcall _Read_Frame_word_Phy
 anl AR6,#63
 mov A,R6
 orl A,R7
 jz ?192
 .line "tcpip\net.c" 1193 41
 mov R6,#193
 mov R7,#0
 ljmp ?189
?192:
 .line "tcpip\net.c" 1195 1
 lcall _Read_Frame_word_Phy
 ; variable 'pcol' allocated as 'auto'
 mov ?process_IP_pcol,R7
 .line "tcpip\net.c" 1196 1
 lcall _Read_Frame_word_Phy
 .line "tcpip\net.c" 1198 1
 lcall _Read_Frame_long_Phy
 mov DPTR,#_remote_ip
 lcall __st_dptr_r47
 .line "tcpip\net.c" 1199 1
 lcall _Read_Frame_long_Phy
 ; variable 'dlen' allocated as 'auto'
 .line "tcpip\net.c" 1201 1
 mov A,#236
 add A,?process_IP_dlen+1
 mov ?i203+1,A
 mov A,#255
 addc A,?process_IP_dlen
 mov ?i203,A
 .line "tcpip\net.c" 1202 1
 mov R6,?process_IP_hdr
 mov R7,?process_IP_hdr+1
 mov R5,#0
 mov A,R6
 anl A,#15
 mov R4,A
 ; variable 'hdr' assigned to register 'RW45'
 .line "tcpip\net.c" 1203 1
 mov R7,#8
 mov R6,AR4
 mov A,R5
 mov B,R7
 inc B
 sjmp ?_95
?_96:
 xch A,R6
 clr C
 rrc A
 xch A,R6
 rrc A
?_95:
 djnz B,?_96
 mov R7,A
 ; variable 'hdr' assigned to register 'RW67'
 .line "tcpip\net.c" 1204 1
 mov A,#251
 add A,R7
 mov R7,A
 mov A,#255
 addc A,R6
 mov R6,A
 ; variable 'hdr' allocated as 'auto'
 mov ?i206,R6
 mov ?i206+1,R7
 sjmp ?195
?194:
 .line "tcpip\net.c" 1205 13
 lcall _Read_Frame_long_Phy
 .line "tcpip\net.c" 1207 2
 mov A,#252
 add A,?i203+1
 mov ?i203+1,A
 mov A,#255
 addc A,?i203
 mov ?i203,A
 .line "tcpip\net.c" 1208 1
?195:
 .line "tcpip\net.c" 1205 7
 mov R4,?i206
 mov R5,?i206+1
 mov A,#255
 add A,R5
 mov R7,A
 mov A,#255
 addc A,R4
 mov R6,A
 mov ?i206,R6
 mov ?i206+1,R7
 mov A,R4
 orl A,R5
 jnz ?194
 .line "tcpip\net.c" 1209 4
 mov A,#1
 xrl A,?process_IP_pcol
 jnz ?197
 .line "tcpip\net.c" 1209 12
 mov R6,?i203
 mov R7,?i203+1
 lcall _process_ICMP
 sjmp ?189
?197:
 .line "tcpip\net.c" 1211 10
 mov A,#6
 xrl A,?process_IP_pcol
 jnz ?199
 .line "tcpip\net.c" 1211 18
 mov R6,?i203
 mov R7,?i203+1
 lcall _process_TCP
 sjmp ?189
?199:
 .line "tcpip\net.c" 1214 10
 mov A,#17
 xrl A,?process_IP_pcol
 jnz ?201
 .line "tcpip\net.c" 1214 19
 mov R6,?i203
 mov R7,?i203+1
 lcall _process_UDP
 sjmp ?189
?201:
 .line "tcpip\net.c" 1218 8
 mov R6,#194
 mov R7,#0
?189:
 ret
; end of function process_IP
; used: R01234567 BR01234567 DPTR ACC PSW B locals:5 bytes

 .export _send_socket_udp ; unsigned int send_socket_udp(unsigned char, xdata unsigned char *, unsigned int)
 .hide
 .segment _send_socket_udp_formal_near, size 0, fill, notext, sclass dram
 .segment _send_socket_udp_local_near, size 0, fill, notext, sclass dram
 .sgraph _send_socket_udp_formal_near, _send_socket_udp_local_near, __send_socket_udp
 .sgraph _send_socket_udp_local_near, _send_upd_formal_near, __send_socket_udp, 0
 .segment _send_upd_formal_near, size 8, fill, notext, sclass dram
 .show

 .segment __send_socket_udp
_send_socket_udp: ; unsigned int send_socket_udp(unsigned char, xdata unsigned char *, unsigned int)
 ; parameter 'pbuf' in 'RW45' assigned to 'RW01'
 ; parameter 'datalen' in 'RW23' assigned to 'B1_RW89'
 ; parameter 'sock' in 'R7'
 mov R0,AR4
 mov R1,AR5
 mov AR8,R2
 mov AR9,R3
 .line "tcpip\net.c" 1228 65
 clr A
 mov R6,A
 mov R4,A
 mov R5,#50
 lcall __mul_i2
 mov R4,#((_uc_socket)>>8)&255
 mov R5,#(_uc_socket)&255
 mov A,R5
 add A,R7
 mov R3,A
 mov A,R4
 addc A,R6
 mov R2,A
 ; variable 'psock' assigned to register 'RW23'
 .line "tcpip\net.c" 1231 4
 mov DPH,AR2
 mov DPL,AR3
 movx A,@DPTR
 mov R7,A
 xrl A,#1
 jz ?208
 .line "tcpip\net.c" 1231 35
 mov R6,#225
 mov R7,#0
 sjmp ?207
?208:
 .line "tcpip\net.c" 1233 1
 mov A,#12
 add A,R3
 mov R7,A
 clr A
 addc A,R2
 mov R6,A
 mov DPH,R6
 mov DPL,R7
 lcall __ld_dptr_r67
 mov _send_upd_formal_near+6,R6
 mov _send_upd_formal_near+7,R7
 mov A,#14
 add A,R3
 mov R7,A
 clr A
 addc A,R2
 mov R6,A
 mov DPH,R6
 mov DPL,R7
 lcall __ld_dptr_r67
 mov _send_upd_formal_near+4,R6
 mov _send_upd_formal_near+5,R7
 mov A,#8
 add A,R3
 mov R7,A
 clr A
 addc A,R2
 mov R6,A
 mov DPH,R6
 mov DPL,R7
 lcall __ld_dptr_r47
 mov A,#_send_upd_formal_near
 lcall __st_a_r47
 mov A,#2
 add A,R3
 mov R3,A
 clr A
 addc A,R2
 mov R2,A
 mov R4,AR8
 mov R5,AR9
 mov R6,AR0
 mov R7,AR1
 lcall _send_upd
 .line "tcpip\net.c" 1237 8
 clr A
 mov R6,A
 mov R7,A
?207:
 ret
; end of function send_socket_udp
; used: R01234567 BR01234567 DPTR ACC PSW B

 .export _send_socket_tcp ; unsigned int send_socket_tcp(unsigned char, xdata unsigned char *, unsigned int)
 .hide
 .segment _send_socket_tcp_formal_near, size 0, fill, notext, sclass dram
 .segment _send_socket_tcp_local_near, size 6, fill, notext, sclass dram
 .sgraph _send_socket_tcp_formal_near, _send_socket_tcp_local_near, __send_socket_tcp
?send_socket_tcp_datalen = _send_socket_tcp_local_near+0 ; unsigned int
?send_socket_tcp_psock = _send_socket_tcp_local_near+4 ; xdata UC_SOCKET *
?send_socket_tcp_pbuf = _send_socket_tcp_local_near+2 ; xdata unsigned char *
 .sgraph _send_socket_tcp_local_near, _xram_fast_copy_formal_near, __send_socket_tcp, 6
 .segment _xram_fast_copy_formal_near, size 0, fill, notext, sclass dram
 .sgraph _send_socket_tcp_local_near, _free_tx_buf_formal_near, __send_socket_tcp, 6
 .segment _free_tx_buf_formal_near, size 0, fill, notext, sclass dram
 .sgraph _send_socket_tcp_local_near, _send_match_ok_TCP_formal_near, __send_socket_tcp, 6
 .segment _send_match_ok_TCP_formal_near, size 0, fill, notext, sclass dram
 .sgraph _send_socket_tcp_local_near, _xram_fast_copy_formal_near, __send_socket_tcp, 0
 .segment _xram_fast_copy_formal_near, size 0, fill, notext, sclass dram
 .show

 .segment __send_socket_tcp
_send_socket_tcp: ; unsigned int send_socket_tcp(unsigned char, xdata unsigned char *, unsigned int)
 ; parameter 'datalen' in 'RW23' moved and assigned to local '?send_socket_tcp_datalen'
 ; parameter 'pbuf' in 'RW45' moved and assigned to local '?send_socket_tcp_pbuf'
 ; parameter 'sock' in 'R7'
 mov ?send_socket_tcp_datalen,R2
 mov ?send_socket_tcp_datalen+1,R3
 mov ?send_socket_tcp_pbuf,R4
 mov ?send_socket_tcp_pbuf+1,R5
 .line "tcpip\net.c" 1255 65
 clr A
 mov R6,A
 mov R4,A
 mov R5,#50
 lcall __mul_i2
 mov R4,#((_uc_socket)>>8)&255
 mov R5,#(_uc_socket)&255
 mov A,R5
 add A,R7
 mov R7,A
 mov A,R4
 addc A,R6
 mov R6,A
 ; variable 'psock' allocated as 'auto'
 mov ?send_socket_tcp_psock,R6
 mov ?send_socket_tcp_psock+1,R7
 .line "tcpip\net.c" 1259 1
 mov R2,#0
 mov R3,#50
 mov R4,#((_match_socket)>>8)&255
 mov R5,#(_match_socket)&255
 mov R6,?send_socket_tcp_psock
 mov R7,?send_socket_tcp_psock+1
 lcall _xram_fast_copy
 .line "tcpip\net.c" 1260 4
 mov DPTR,#_match_socket
 movx A,@DPTR
 mov R7,A
 cjne R7,#2,?213
 mov DPTR,#_match_socket+1
 movx A,@DPTR
 mov R7,A
 xrl A,#2
 jz ?211
?213:
 .line "tcpip\net.c" 1260 67
 mov R6,#240
 mov R7,#0
 ljmp ?210
?211:
 .line "tcpip\net.c" 1261 4
 mov A,?send_socket_tcp_datalen
 orl A,?send_socket_tcp_datalen+1
 jnz ?214
 .line "tcpip\net.c" 1261 14
 mov R6,?send_socket_tcp_pbuf
 mov R7,?send_socket_tcp_pbuf+1
 lcall _free_tx_buf
 .line "tcpip\net.c" 1263 9
 clr A
 mov R6,A
 mov R7,A
 ljmp ?210
?214:
 .line "tcpip\net.c" 1267 4
 mov DPTR,#_match_socket+42
 lcall __ld_dptr_r67
 mov A,R6
 orl A,R7
 jnz ?216
 .line "tcpip\net.c" 1267 31
 mov R6,?send_socket_tcp_pbuf
 mov R7,?send_socket_tcp_pbuf+1
 mov DPTR,#_match_socket+48
 lcall __st_dptr_r67
 .line "tcpip\net.c" 1269 2
 mov R6,?send_socket_tcp_datalen
 mov R7,?send_socket_tcp_datalen+1
 mov DPTR,#_match_socket+42
 lcall __st_dptr_r67
 .line "tcpip\net.c" 1270 2
 mov R6,?send_socket_tcp_datalen
 mov R7,?send_socket_tcp_datalen+1
 mov R3,AR7
 mov R2,AR6
 clr A
 mov R1,A
 mov R0,A
 mov DPTR,#_match_socket+20
 lcall __ld_dptr_r47
 lcall __add_i4
 mov DPTR,#_match_socket+44
 lcall __st_dptr_r47
 .line "tcpip\net.c" 1272 1
 ljmp ?217
?216:
 .line "tcpip\net.c" 1272 10
 mov DPTR,#_match_socket+34
 lcall __ld_dptr_r67
 mov A,R6
 orl A,R7
 jnz ?218
 .line "tcpip\net.c" 1272 37
 mov R6,?send_socket_tcp_pbuf
 mov R7,?send_socket_tcp_pbuf+1
 mov DPTR,#_match_socket+40
 lcall __st_dptr_r67
 .line "tcpip\net.c" 1274 2
 mov R6,?send_socket_tcp_datalen
 mov R7,?send_socket_tcp_datalen+1
 mov DPTR,#_match_socket+34
 lcall __st_dptr_r67
 .line "tcpip\net.c" 1275 2
 mov R6,?send_socket_tcp_datalen
 mov R7,?send_socket_tcp_datalen+1
 mov R3,AR7
 mov R2,AR6
 clr A
 mov R1,A
 mov R0,A
 mov DPTR,#_match_socket+20
 lcall __ld_dptr_r47
 lcall __add_i4
 mov DPTR,#_match_socket+36
 lcall __st_dptr_r47
 .line "tcpip\net.c" 1277 1
 sjmp ?219
?218:
 .line "tcpip\net.c" 1277 10
 mov DPTR,#_match_socket+26
 lcall __ld_dptr_r67
 mov A,R6
 orl A,R7
 jnz ?220
 .line "tcpip\net.c" 1277 37
 mov R6,?send_socket_tcp_pbuf
 mov R7,?send_socket_tcp_pbuf+1
 mov DPTR,#_match_socket+32
 lcall __st_dptr_r67
 .line "tcpip\net.c" 1279 2
 mov R6,?send_socket_tcp_datalen
 mov R7,?send_socket_tcp_datalen+1
 mov DPTR,#_match_socket+26
 lcall __st_dptr_r67
 .line "tcpip\net.c" 1280 2
 mov R6,?send_socket_tcp_datalen
 mov R7,?send_socket_tcp_datalen+1
 mov R3,AR7
 mov R2,AR6
 clr A
 mov R1,A
 mov R0,A
 mov DPTR,#_match_socket+20
 lcall __ld_dptr_r47
 lcall __add_i4
 mov DPTR,#_match_socket+28
 lcall __st_dptr_r47
 .line "tcpip\net.c" 1282 1
 sjmp ?221
?220:
 .line "tcpip\net.c" 1282 6
 mov R6,#244
 mov R7,#0
 sjmp ?210
?221:
?219:
?217:
 .line "tcpip\net.c" 1286 1
 mov R3,#24
 mov R4,?send_socket_tcp_datalen
 mov R5,?send_socket_tcp_datalen+1
 mov R6,?send_socket_tcp_pbuf
 mov R7,?send_socket_tcp_pbuf+1
 lcall _send_match_ok_TCP
 .line "tcpip\net.c" 1287 1
 mov R6,?send_socket_tcp_datalen
 mov R7,?send_socket_tcp_datalen+1
 mov R3,AR7
 mov R2,AR6
 clr A
 mov R1,A
 mov R0,A
 mov DPTR,#_match_socket+20
 lcall __ld_dptr_r47
 lcall __add_i4
 mov DPTR,#_match_socket+20
 lcall __st_dptr_r47
 .line "tcpip\net.c" 1290 1
 mov DPTR,#_match_socket+24
 clr A
 movx @DPTR,A
 .line "tcpip\net.c" 1291 1
 mov DPTR,#_match_socket+25
 mov A,#6
 movx @DPTR,A
 .line "tcpip\net.c" 1294 1
 mov R2,#0
 mov R3,#50
 mov R4,?send_socket_tcp_psock
 mov R5,?send_socket_tcp_psock+1
 mov R6,#((_match_socket)>>8)&255
 mov R7,#(_match_socket)&255
 lcall _xram_fast_copy
 .line "tcpip\net.c" 1295 8
 clr A
 mov R6,A
 mov R7,A
?210:
 ret
; end of function send_socket_tcp
; used: R01234567 BR01234567 DPTR ACC PSW B locals:6 bytes

 .export _notready_socket_tcp ; unsigned int notready_socket_tcp(unsigned char, unsigned char)
 .segment _notready_socket_tcp_formal_near, size 0, fill, notext, sclass dram
 .segment _notready_socket_tcp_local_near, size 0, fill, notext, sclass dram
 .sgraph _notready_socket_tcp_formal_near, _notready_socket_tcp_local_near, __notready_socket_tcp

 .segment __notready_socket_tcp
_notready_socket_tcp: ; (leaf function) unsigned int notready_socket_tcp(unsigned char, unsigned char)
 ; parameter 'sock' in 'R7'
 ; parameter 'flag' in 'R5' assigned to 'R1'
 mov R1,AR5
 .line "tcpip\net.c" 1306 48
 mov R5,AR7
 clr A
 mov R4,A
 mov R6,A
 mov R7,#50
 lcall __mul_i2
 mov R2,#((_uc_socket)>>8)&255
 mov R3,#(_uc_socket)&255
 mov A,R3
 add A,R7
 mov R5,A
 mov A,R2
 addc A,R6
 mov R4,A
 ; variable 'psock' assigned to register 'RW45'
 .line "tcpip\net.c" 1309 4
 mov DPH,AR4
 mov DPL,AR5
 movx A,@DPTR
 mov R7,A
 cjne R7,#2,?225
 mov A,#1
 add A,R5
 mov R7,A
 clr A
 addc A,R4
 mov R6,A
 mov DPH,AR6
 mov DPL,AR7
 movx A,@DPTR
 mov R7,A
 xrl A,#2
 jz ?223
?225:
 .line "tcpip\net.c" 1309 55
 mov R6,#240
 mov R7,#0
 ljmp ?222
?223:
 .line "tcpip\net.c" 1310 4
 mov DPTR,#_tx_bufleft
 movx A,@DPTR
 mov R7,A
 jnz ?226
 .line "tcpip\net.c" 1310 24
 mov R6,#210
 mov R7,#0
 sjmp ?222
?226:
 .line "tcpip\net.c" 1314 4
 mov A,R1
 jz ?228
 .line "tcpip\net.c" 1314 9
 mov A,#26
 add A,R5
 mov R7,A
 clr A
 addc A,R4
 mov R6,A
 mov DPH,R6
 mov DPL,R7
 lcall __ld_dptr_r67
 mov A,R6
 orl A,R7
 jz ?229
 .line "tcpip\net.c" 1316 33
 mov R6,#244
 mov R7,#0
 sjmp ?222
 .line "tcpip\net.c" 1317 1
?228:
 .line "tcpip\net.c" 1317 6
 mov A,#42
 add A,R5
 mov R7,A
 clr A
 addc A,R4
 mov R6,A
 mov DPH,R6
 mov DPL,R7
 lcall __ld_dptr_r67
 mov A,R6
 orl A,R7
 jz ?232
 .line "tcpip\net.c" 1318 33
 mov R6,#244
 mov R7,#0
 sjmp ?222
?232:
 .line "tcpip\net.c" 1320 1
?229:
 .line "tcpip\net.c" 1321 8
 clr A
 mov R6,A
 mov R7,A
?222:
 ret
; end of function notready_socket_tcp
; used: R-1234567 BR-------- DPTR ACC PSW B

 .export _stringsend_socket_tcp ; unsigned int stringsend_socket_tcp(unsigned char, far char *)
 .hide
 .segment _stringsend_socket_tcp_formal_near, size 0, fill, notext, sclass dram
 .segment _stringsend_socket_tcp_local_near, size 9, fill, notext, sclass dram
 .sgraph _stringsend_socket_tcp_formal_near, _stringsend_socket_tcp_local_near, __stringsend_socket_tcp
?stringsend_socket_tcp_pbuf = _stringsend_socket_tcp_local_near+7 ; xdata unsigned char *
?stringsend_socket_tcp_datalen = _stringsend_socket_tcp_local_near+5 ; unsigned int
?stringsend_socket_tcp_pdata = _stringsend_socket_tcp_local_near+0 ; far char *
?stringsend_socket_tcp_sock = _stringsend_socket_tcp_local_near+4 ; unsigned char
 .sgraph _stringsend_socket_tcp_local_near, _notready_socket_tcp_formal_near, __stringsend_socket_tcp, 5
 .segment _notready_socket_tcp_formal_near, size 0, fill, notext, sclass dram
 .sgraph _stringsend_socket_tcp_local_near, _strlen_formal_near, __stringsend_socket_tcp, 5
 .segment _strlen_formal_near, size 0, fill, notext, sclass dram
 .sgraph _stringsend_socket_tcp_local_near, _allocate_tx_buf_formal_near, __stringsend_socket_tcp, 7
 .segment _allocate_tx_buf_formal_near, size 0, fill, notext, sclass dram
 .sgraph _stringsend_socket_tcp_local_near, _bmove_formal_near, __stringsend_socket_tcp, 9
 .segment _bmove_formal_near, size 2, fill, notext, sclass dram
 .sgraph _stringsend_socket_tcp_local_near, _send_socket_tcp_formal_near, __stringsend_socket_tcp, 0
 .segment _send_socket_tcp_formal_near, size 0, fill, notext, sclass dram
 .show

 .segment __stringsend_socket_tcp
_stringsend_socket_tcp: ; unsigned int stringsend_socket_tcp(unsigned char, far char *)
 ; parameter 'pdata' in 'RL0123' moved and assigned to local '?stringsend_socket_tcp_pdata'
 ; parameter 'sock' in 'R7' moved and assigned to local '?stringsend_socket_tcp_sock'
 mov A,#?stringsend_socket_tcp_pdata
 lcall __st_a_r03
 mov ?stringsend_socket_tcp_sock,R7
 .line "tcpip\net.c" 1331 55
 mov R5,#1
 mov R7,?stringsend_socket_tcp_sock
 lcall _notready_socket_tcp
 mov A,R6
 orl A,R7
 jz ?235
 .line "tcpip\net.c" 1336 40
 mov R6,#240
 mov R7,#0
 ljmp ?234
?235:
 .line "tcpip\net.c" 1337 1
 mov A,#?stringsend_socket_tcp_pdata
 lcall __ld_a_r47
 lcall _strlen
 ; variable 'datalen' allocated as 'auto'
 mov ?stringsend_socket_tcp_datalen,R6
 mov ?stringsend_socket_tcp_datalen+1,R7
 .line "tcpip\net.c" 1338 4
 mov R4,#0
 mov R5,#100
 mov R6,?stringsend_socket_tcp_datalen
 mov R7,?stringsend_socket_tcp_datalen+1
 setb C
 mov A,R7
 subb A,R5
 mov A,R6
 subb A,R4
 jc ?237
 .line "tcpip\net.c" 1338 25
 mov R6,#211
 mov R7,#0
 sjmp ?234
?237:
 .line "tcpip\net.c" 1340 1
 lcall _allocate_tx_buf
 ; variable 'pbuf' allocated as 'auto'
 mov ?stringsend_socket_tcp_pbuf,R6
 mov ?stringsend_socket_tcp_pbuf+1,R7
 .line "tcpip\net.c" 1341 4
 mov A,?stringsend_socket_tcp_pbuf
 orl A,?stringsend_socket_tcp_pbuf+1
 jnz ?239
 .line "tcpip\net.c" 1341 18
 mov R6,#210
 mov R7,#0
 sjmp ?234
?239:
 .line "tcpip\net.c" 1342 1
 mov _bmove_formal_near,?stringsend_socket_tcp_datalen
 mov _bmove_formal_near+1,?stringsend_socket_tcp_datalen+1
 mov R6,?stringsend_socket_tcp_pbuf
 mov R7,?stringsend_socket_tcp_pbuf+1
 mov R3,AR7
 mov R2,AR6
 mov R0,#XDS
 mov A,#?stringsend_socket_tcp_pdata
 lcall __ld_a_r47
 lcall _bmove
 .line "tcpip\net.c" 1343 8
 mov R2,?stringsend_socket_tcp_datalen
 mov R3,?stringsend_socket_tcp_datalen+1
 mov R4,?stringsend_socket_tcp_pbuf
 mov R5,?stringsend_socket_tcp_pbuf+1
 mov R7,?stringsend_socket_tcp_sock
 lcall _send_socket_tcp
?234:
 ret
; end of function stringsend_socket_tcp
; used: R01234567 BR01234567 DPTR ACC PSW B locals:9 bytes

 .export _close_socket_tcp ; unsigned int close_socket_tcp(unsigned char)
 .hide
 .segment _close_socket_tcp_formal_near, size 0, fill, notext, sclass dram
 .segment _close_socket_tcp_local_near, size 2, fill, notext, sclass dram
 .sgraph _close_socket_tcp_formal_near, _close_socket_tcp_local_near, __close_socket_tcp
?close_socket_tcp_psock = _close_socket_tcp_local_near+0 ; xdata UC_SOCKET *
 .sgraph _close_socket_tcp_local_near, _xram_fast_copy_formal_near, __close_socket_tcp, 2
 .segment _xram_fast_copy_formal_near, size 0, fill, notext, sclass dram
 .sgraph _close_socket_tcp_local_near, _send_match_ok_TCP_formal_near, __close_socket_tcp, 2
 .segment _send_match_ok_TCP_formal_near, size 0, fill, notext, sclass dram
 .sgraph _close_socket_tcp_local_near, _xram_fast_copy_formal_near, __close_socket_tcp, 0
 .segment _xram_fast_copy_formal_near, size 0, fill, notext, sclass dram
 .show

 .segment __close_socket_tcp
_close_socket_tcp: ; unsigned int close_socket_tcp(unsigned char)
 ; parameter 'sock' in 'R7'
 .line "tcpip\net.c" 1353 33
 clr A
 mov R6,A
 mov R4,A
 mov R5,#50
 lcall __mul_i2
 mov R4,#((_uc_socket)>>8)&255
 mov R5,#(_uc_socket)&255
 mov A,R5
 add A,R7
 mov R7,A
 mov A,R4
 addc A,R6
 mov R6,A
 ; variable 'psock' allocated as 'auto'
 mov ?close_socket_tcp_psock,R6
 mov ?close_socket_tcp_psock+1,R7
 .line "tcpip\net.c" 1357 1
 mov R2,#0
 mov R3,#50
 mov R4,#((_match_socket)>>8)&255
 mov R5,#(_match_socket)&255
 mov R6,?close_socket_tcp_psock
 mov R7,?close_socket_tcp_psock+1
 lcall _xram_fast_copy
 .line "tcpip\net.c" 1358 4
 mov DPTR,#_match_socket
 movx A,@DPTR
 mov R7,A
 cjne R7,#2,?244
 mov DPTR,#_match_socket+1
 movx A,@DPTR
 mov R7,A
 jnz ?242
?244:
 .line "tcpip\net.c" 1358 64
 mov R6,#240
 mov R7,#0
 ljmp ?241
?242:
 .line "tcpip\net.c" 1361 4
 mov DPTR,#_match_socket+42
 lcall __ld_dptr_r67
 mov A,R6
 orl A,R7
 jz ?245
 .line "tcpip\net.c" 1361 38
 mov R6,#244
 mov R7,#0
 sjmp ?241
?245:
 .line "tcpip\net.c" 1363 1
 mov R3,#25
 clr A
 mov R4,A
 mov R5,A
 clr A
 mov R6,A
 mov R7,A
 lcall _send_match_ok_TCP
 .line "tcpip\net.c" 1364 1
 clr A
 mov R0,A
 mov R1,A
 mov R2,A
 mov R3,#1
 mov DPTR,#_match_socket+20
 lcall __ld_dptr_r47
 lcall __add_i4
 mov DPTR,#_match_socket+20
 lcall __st_dptr_r47
 .line "tcpip\net.c" 1365 1
 mov DPTR,#_match_socket+1
 mov A,#3
 movx @DPTR,A
 .line "tcpip\net.c" 1368 1
 mov DPTR,#_match_socket+24
 clr A
 movx @DPTR,A
 .line "tcpip\net.c" 1369 1
 mov DPTR,#_match_socket+25
 mov A,#6
 movx @DPTR,A
 .line "tcpip\net.c" 1372 1
 mov R2,#0
 mov R3,#50
 mov R4,?close_socket_tcp_psock
 mov R5,?close_socket_tcp_psock+1
 mov R6,#((_match_socket)>>8)&255
 mov R7,#(_match_socket)&255
 lcall _xram_fast_copy
 .line "tcpip\net.c" 1376 8
 clr A
 mov R6,A
 mov R7,A
?241:
 ret
; end of function close_socket_tcp
; used: R01234567 BR01234567 DPTR ACC PSW B locals:2 bytes

 .export _open_socket_udp ; unsigned int open_socket_udp(unsigned char, unsigned long, unsigned int)
 .hide
 .segment _open_socket_udp_formal_near, size 2, fill, notext, sclass dram
 .segment _open_socket_udp_local_near, size 6, fill, notext, sclass dram
 .sgraph _open_socket_udp_formal_near, _open_socket_udp_local_near, __open_socket_udp
?open_socket_udp_psock = _open_socket_udp_local_near+4 ; xdata UC_SOCKET *
?open_socket_udp_remote_ipl = _open_socket_udp_local_near+0 ; unsigned long
?open_socket_udp_0_remote_port = _open_socket_udp_formal_near+0 ; unsigned int
 .sgraph _open_socket_udp_local_near, _xram_fast_copy_formal_near, __open_socket_udp, 6
 .segment _xram_fast_copy_formal_near, size 0, fill, notext, sclass dram
 .sgraph _open_socket_udp_local_near, _send_request_ARP_formal_near, __open_socket_udp, 6
 .segment _send_request_ARP_formal_near, size 0, fill, notext, sclass dram
 .sgraph _open_socket_udp_local_near, _xram_fast_copy_formal_near, __open_socket_udp, 0
 .segment _xram_fast_copy_formal_near, size 0, fill, notext, sclass dram
 .show

 .segment __open_socket_udp
_open_socket_udp: ; unsigned int open_socket_udp(unsigned char, unsigned long, unsigned int)
 ; parameter 'remote_ipl' in 'RL0123' moved and assigned to local '?open_socket_udp_remote_ipl'
 ; parameter 'sock' in 'R7'
 ; parameter 'remote_port' assigned to local '?open_socket_udp_0_remote_port'
 mov A,#?open_socket_udp_remote_ipl
 lcall __st_a_r03
 .line "tcpip\net.c" 1423 82
 clr A
 mov R6,A
 mov R4,A
 mov R5,#50
 lcall __mul_i2
 mov R4,#((_uc_socket)>>8)&255
 mov R5,#(_uc_socket)&255
 mov A,R5
 add A,R7
 mov R7,A
 mov A,R4
 addc A,R6
 mov R6,A
 ; variable 'psock' allocated as 'auto'
 mov ?open_socket_udp_psock,R6
 mov ?open_socket_udp_psock+1,R7
 .line "tcpip\net.c" 1428 4
 mov R2,#0
 mov R3,#50
 mov R4,#((_match_socket)>>8)&255
 mov R5,#(_match_socket)&255
 mov R6,?open_socket_udp_psock
 mov R7,?open_socket_udp_psock+1
 lcall _xram_fast_copy
 .line "tcpip\net.c" 1429 7
 mov DPTR,#_match_socket
 movx A,@DPTR
 mov R7,A
 cjne R7,#1,?250
 mov DPTR,#_match_socket+1
 movx A,@DPTR
 mov R7,A
 jz ?248
?250:
 .line "tcpip\net.c" 1429 66
 mov R6,#228
 mov R7,#0
 ljmp ?247
?248:
 .line "tcpip\net.c" 1431 4
 mov A,#?open_socket_udp_remote_ipl
 lcall __ld_a_r47
 mov DPTR,#_match_socket+8
 lcall __st_dptr_r47
 .line "tcpip\net.c" 1432 4
 mov R6,?open_socket_udp_0_remote_port
 mov R7,?open_socket_udp_0_remote_port+1
 mov DPTR,#_match_socket+12
 lcall __st_dptr_r67
 .line "tcpip\net.c" 1434 7
 mov R0,#255
 mov R1,#255
 mov R2,#255
 mov R3,#255
 mov A,#?open_socket_udp_remote_ipl
 lcall __ld_a_r47
 clr C
 lcall __cmp_i4
 jz ?251
 .line "tcpip\net.c" 1434 30
 mov A,#?open_socket_udp_remote_ipl
 lcall __ld_a_r47
 lcall _send_request_ARP
 .line "tcpip\net.c" 1437 6
 mov DPTR,#_match_socket+1
 mov A,#6
 movx @DPTR,A
 .line "tcpip\net.c" 1443 6
 mov DPTR,#_match_socket+24
 clr A
 movx @DPTR,A
 .line "tcpip\net.c" 1444 6
 mov DPTR,#_match_socket+25
 mov A,#6
 movx @DPTR,A
 .line "tcpip\net.c" 1445 4
 sjmp ?252
?251:
 .line "tcpip\net.c" 1445 9
 mov R7,#6
 mov DPTR,#_match_socket+2
?253:
 .line "tcpip\net.c" 1448 23
 mov A,#255
 movx @DPTR,A
 .line "tcpip\net.c" 1448 18
 inc DPTR
 .line "tcpip\net.c" 1448 14
 djnz R7,?253
 .line "tcpip\net.c" 1449 4
 mov DPTR,#_match_socket+1
 mov A,#7
 movx @DPTR,A
 .line "tcpip\net.c" 1450 4
 mov DPTR,#_match_socket+24
 clr A
 movx @DPTR,A
 .line "tcpip\net.c" 1451 5
 mov DPTR,#_match_socket+25
 mov A,#1
 movx @DPTR,A
 .line "tcpip\net.c" 1452 4
?252:
 .line "tcpip\net.c" 1455 4
 mov R2,#0
 mov R3,#50
 mov R4,?open_socket_udp_psock
 mov R5,?open_socket_udp_psock+1
 mov R6,#((_match_socket)>>8)&255
 mov R7,#(_match_socket)&255
 lcall _xram_fast_copy
 .line "tcpip\net.c" 1456 11
 clr A
 mov R6,A
 mov R7,A
?247:
 ret
; end of function open_socket_udp
; used: R01234567 BR01234567 DPTR ACC PSW B locals:6 bytes formals:2 bytes

 .export _close_socket_udp ; unsigned int close_socket_udp(unsigned char)
 .hide
 .segment _close_socket_udp_formal_near, size 0, fill, notext, sclass dram
 .segment _close_socket_udp_local_near, size 2, fill, notext, sclass dram
 .sgraph _close_socket_udp_formal_near, _close_socket_udp_local_near, __close_socket_udp
?close_socket_udp_psock = _close_socket_udp_local_near+0 ; xdata UC_SOCKET *
 .sgraph _close_socket_udp_local_near, _xram_fast_copy_formal_near, __close_socket_udp, 2
 .segment _xram_fast_copy_formal_near, size 0, fill, notext, sclass dram
 .sgraph _close_socket_udp_local_near, _xram_fast_copy_formal_near, __close_socket_udp, 0
 .segment _xram_fast_copy_formal_near, size 0, fill, notext, sclass dram
 .show

 .segment __close_socket_udp
_close_socket_udp: ; unsigned int close_socket_udp(unsigned char)
 ; parameter 'sock' in 'R7'
 .line "tcpip\net.c" 1467 33
 clr A
 mov R6,A
 mov R4,A
 mov R5,#50
 lcall __mul_i2
 mov R4,#((_uc_socket)>>8)&255
 mov R5,#(_uc_socket)&255
 mov A,R5
 add A,R7
 mov R7,A
 mov A,R4
 addc A,R6
 mov R6,A
 ; variable 'psock' allocated as 'auto'
 mov ?close_socket_udp_psock,R6
 mov ?close_socket_udp_psock+1,R7
 .line "tcpip\net.c" 1471 4
 mov R2,#0
 mov R3,#50
 mov R4,#((_match_socket)>>8)&255
 mov R5,#(_match_socket)&255
 mov R6,?close_socket_udp_psock
 mov R7,?close_socket_udp_psock+1
 lcall _xram_fast_copy
 .line "tcpip\net.c" 1472 7
 mov DPTR,#_match_socket
 movx A,@DPTR
 mov R7,A
 cjne R7,#1,?262
 mov DPTR,#_match_socket+1
 movx A,@DPTR
 mov R7,A
 jnz ?260
?262:
 .line "tcpip\net.c" 1472 67
 mov R6,#228
 mov R7,#0
 sjmp ?259
?260:
 .line "tcpip\net.c" 1473 4
 mov DPTR,#_match_socket+1
 clr A
 movx @DPTR,A
 .line "tcpip\net.c" 1475 4
 mov R2,#0
 mov R3,#50
 mov R4,?close_socket_udp_psock
 mov R5,?close_socket_udp_psock+1
 mov R6,#((_match_socket)>>8)&255
 mov R7,#(_match_socket)&255
 lcall _xram_fast_copy
 .line "tcpip\net.c" 1476 11
 clr A
 mov R6,A
 mov R7,A
?259:
 ret
; end of function close_socket_udp
; used: R01234567 BR01234567 DPTR ACC PSW B locals:2 bytes

 .segment neardata, sclass dram
 .export _rx_bd ; xdata oeth_bd *near rx_bd
_rx_bd: ; xdata oeth_bd *near rx_bd
 .dc.w 0
 .export _poll_net ; unsigned int poll_net(void)
 .hide
 .segment _poll_net_formal_near, size 0, fill, notext, sclass dram
 .segment _poll_net_local_near, size 5, fill, notext, sclass dram
 .sgraph _poll_net_formal_near, _poll_net_local_near, __poll_net
?poll_net_2_psock = _poll_net_local_near+0 ; xdata UC_SOCKET *
?poll_net_2_ui = _poll_net_local_near+2 ; unsigned char
?poll_net_2_res = _poll_net_local_near+3 ; unsigned int
?poll_net_2_event = _poll_net_local_near+2 ; unsigned int
?poll_net_type = _poll_net_local_near+0 ; unsigned int
 .sgraph _poll_net_local_near, _Init_Mac_formal_near, __poll_net, 0
 .segment _Init_Mac_formal_near, size 0, fill, notext, sclass dram
 .sgraph _poll_net_local_near, _find_RX_Buffer_formal_near, __poll_net, 0
 .segment _find_RX_Buffer_formal_near, size 0, fill, notext, sclass dram
 .sgraph _poll_net_local_near, _init_rx_formal_near, __poll_net, 0
 .segment _init_rx_formal_near, size 0, fill, notext, sclass dram
 .sgraph _poll_net_local_near, _Read_Frame_word_Phy_formal_near, __poll_net, 0
 .segment _Read_Frame_word_Phy_formal_near, size 0, fill, notext, sclass dram
 .sgraph _poll_net_local_near, _Read_Frame_long_Phy_formal_near, __poll_net, 0
 .segment _Read_Frame_long_Phy_formal_near, size 0, fill, notext, sclass dram
 .sgraph _poll_net_local_near, _Read_Frame_xdata_Phy_formal_near, __poll_net, 0
 .segment _Read_Frame_xdata_Phy_formal_near, size 0, fill, notext, sclass dram
 .sgraph _poll_net_local_near, _Read_Frame_word_Phy_formal_near, __poll_net, 0
 .segment _Read_Frame_word_Phy_formal_near, size 0, fill, notext, sclass dram
 .sgraph _poll_net_local_near, _net_match_uint_formal_near, __poll_net, 2
 .segment _net_match_uint_formal_near, size 0, fill, notext, sclass dram
 .sgraph _poll_net_local_near, _net_match_ulong_formal_near, __poll_net, 2
 .segment _net_match_ulong_formal_near, size 0, fill, notext, sclass dram
 .sgraph _poll_net_local_near, _Read_Frame_word_Phy_formal_near, __poll_net, 2
 .segment _Read_Frame_word_Phy_formal_near, size 0, fill, notext, sclass dram
 .sgraph _poll_net_local_near, _process_ARP_formal_near, __poll_net, 4
 .segment _process_ARP_formal_near, size 0, fill, notext, sclass dram
 .sgraph _poll_net_local_near, _process_IP_formal_near, __poll_net, 4
 .segment _process_IP_formal_near, size 0, fill, notext, sclass dram
 .sgraph _poll_net_local_near, _xram_fast_copy_formal_near, __poll_net, 3
 .segment _xram_fast_copy_formal_near, size 0, fill, notext, sclass dram
 .sgraph _poll_net_local_near, _periodical_socket_formal_near, __poll_net, 3
 .segment _periodical_socket_formal_near, size 0, fill, notext, sclass dram
 .sgraph _poll_net_local_near, _xram_fast_copy_formal_near, __poll_net, 5
 .segment _xram_fast_copy_formal_near, size 0, fill, notext, sclass dram
 .show

 .segment __poll_net
_poll_net: ; unsigned int poll_net(void)
 .line "tcpip\net.c" 1490 19
 mov DPTR,#53255
 movx A,@DPTR
 mov R7,A
 anl A,#16
 mov R7,A
 jz ?264
 .line "tcpip\net.c" 1493 65
 lcall _Init_Mac
 .line "tcpip\net.c" 1495 5
 mov _rx_bd,#0
 mov _rx_bd+1,#0
 .line "tcpip\net.c" 1496 2
?264:
 .line "tcpip\net.c" 1497 5
 mov DPTR,#53255
 movx A,@DPTR
 mov R7,A
 anl A,#3
 mov R7,A
 jz ?266
 .line "tcpip\net.c" 1497 81
 mov DPTR,#54272
 clr A
 movx @DPTR,A
 inc DPTR
 movx @DPTR,A
 .line "tcpip\net.c" 1500 4
 mov DPTR,#53255
 mov A,#3
 movx @DPTR,A
 .line "tcpip\net.c" 1501 2
?266:
 .line "tcpip\net.c" 1502 5
 mov DPTR,#53255
 movx A,@DPTR
 mov R7,A
 anl A,#12
 mov R7,A
 jnz ?_134
 ljmp ?268
?_134:
 .line "tcpip\net.c" 1503 2
 mov A,_rx_bd
 orl A,_rx_bd+1
 jnz ?270
 .line "tcpip\net.c" 1505 15
 lcall _find_RX_Buffer
 mov _rx_bd,R6
 mov _rx_bd+1,R7
 .line "tcpip\net.c" 1507 9
 mov A,_rx_bd
 orl A,_rx_bd+1
 jz ?_136
 ljmp ?271
?_136:
 .line "tcpip\net.c" 1507 24
 clr A
 mov R6,A
 mov R7,A
 ljmp ?263
 .line "tcpip\net.c" 1508 4
?270:
 .line "tcpip\net.c" 1508 11
 clr A
 mov R3,A
 ; variable 'i' assigned to register 'R3'
 sjmp ?275
?274:
 .line "tcpip\net.c" 1510 53
 mov R6,_rx_bd
 mov R7,_rx_bd+1
 mov A,#8
 add A,R7
 mov R5,A
 clr A
 addc A,R6
 mov R4,A
 mov _rx_bd,R4
 mov _rx_bd+1,R5
 mov R6,#212
 mov R7,#160
 mov A,R5
 xrl A,R7
 jnz ?_137
 mov A,R4
 xrl A,R6
 jz ?_138
?_137:
 sjmp ?277
?_138:
 .line "tcpip\net.c" 1511 126
 mov R6,#212
 mov R7,#0
 mov A,#8
 add A,R7
 mov R7,A
 clr A
 addc A,R6
 mov R6,A
 mov _rx_bd,R6
 mov _rx_bd+1,R7
 .line "tcpip\net.c" 1513 8
?277:
 .line "tcpip\net.c" 1514 6
?275:
 .line "tcpip\net.c" 1510 12
 mov R5,AR3
 mov R3,AR5
 inc R3
 mov R7,#4
 clr C
 mov A,AR5
 subb A,AR7
 jnc ?279
 mov R6,_rx_bd
 mov R7,_rx_bd+1
 mov A,#2
 add A,R7
 mov R7,A
 clr A
 addc A,R6
 mov R6,A
 mov DPH,R6
 mov DPL,R7
 lcall __ld_dptr_r67
 mov R7,#0
 anl AR6,#128
 mov A,R6
 orl A,R7
 jz ?_140
 ljmp ?274
?_140:
?279:
 .line "tcpip\net.c" 1515 9
 mov R6,_rx_bd
 mov R7,_rx_bd+1
 mov A,#2
 add A,R7
 mov R7,A
 clr A
 addc A,R6
 mov R6,A
 mov DPH,R6
 mov DPL,R7
 lcall __ld_dptr_r67
 mov R7,#0
 anl AR6,#128
 mov A,R6
 orl A,R7
 jz ?280
 .line "tcpip\net.c" 1515 45
 clr A
 mov R6,A
 mov R7,A
 ljmp ?263
?280:
 .line "tcpip\net.c" 1516 4
?271:
 .line "tcpip\net.c" 1519 4
 lcall _init_rx
 .line "tcpip\net.c" 1522 4
 lcall _Read_Frame_word_Phy
 .line "tcpip\net.c" 1523 4
 lcall _Read_Frame_long_Phy
 .line "tcpip\net.c" 1524 4
 mov R4,#0
 mov R5,#6
 mov R6,#((_remote_mac)>>8)&255
 mov R7,#(_remote_mac)&255
 lcall _Read_Frame_xdata_Phy
 .line "tcpip\net.c" 1525 4
 lcall _Read_Frame_word_Phy
 ; variable 'type' allocated as 'auto'
 mov ?poll_net_type,R6
 mov ?poll_net_type+1,R7
 .line "tcpip\net.c" 1529 7
 mov R4,#5
 mov R5,#220
 mov R6,?poll_net_type
 mov R7,?poll_net_type+1
 setb C
 mov A,R7
 subb A,R5
 mov A,R6
 subb A,R4
 jnc ?282
 .line "tcpip\net.c" 1529 19
 mov R6,#170
 mov R7,#170
 lcall _net_match_uint
 mov A,R7
 jz ?284
 .line "tcpip\net.c" 1530 39
 clr A
 mov R6,A
 mov R7,A
 ljmp ?263
?284:
 .line "tcpip\net.c" 1531 8
 mov R4,#3
 clr A
 mov R5,A
 mov R6,A
 mov R7,A
 lcall _net_match_ulong
 mov A,R7
 jz ?286
 .line "tcpip\net.c" 1531 43
 clr A
 mov R6,A
 mov R7,A
 ljmp ?263
?286:
 .line "tcpip\net.c" 1532 5
 lcall _Read_Frame_word_Phy
 mov ?poll_net_type,R6
 mov ?poll_net_type+1,R7
 .line "tcpip\net.c" 1533 4
?282:
 ; variable 'event' allocated as 'auto'
 .line "tcpip\net.c" 1534 4
 clr A
 mov ?poll_net_2_event,A
 mov ?poll_net_2_event+1,A
 .line "tcpip\net.c" 1537 9
 mov R6,?poll_net_type
 mov R7,?poll_net_type+1
 cjne R7,#6,?288
 cjne R6,#8,?288
 .line "tcpip\net.c" 1537 22
 lcall _process_ARP
 mov ?poll_net_2_event,R6
 mov ?poll_net_2_event+1,R7
 .line "tcpip\net.c" 1539 6
 sjmp ?289
?288:
 .line "tcpip\net.c" 1539 15
 mov R6,?poll_net_type
 mov R7,?poll_net_type+1
 cjne R7,#0,?290
 cjne R6,#8,?290
 .line "tcpip\net.c" 1539 27
 lcall _process_IP
 mov ?poll_net_2_event,R6
 mov ?poll_net_2_event+1,R7
 .line "tcpip\net.c" 1541 6
?290:
?289:
 .line "tcpip\net.c" 1542 6
 clr A
 mov R4,A
 mov R5,A
 mov R6,_rx_bd
 mov R7,_rx_bd+1
 mov DPH,R6
 mov DPL,R7
 lcall __st_dptr_r45
 .line "tcpip\net.c" 1543 6
 mov A,#2
 add A,_rx_bd+1
 mov AR9,A
 clr A
 addc A,_rx_bd
 mov AR8,A
 mov R6,AR8
 mov R7,AR9
 mov DPH,R6
 mov DPL,R7
 lcall __ld_dptr_r67
 mov R7,#0
 anl AR6,#32
 orl AR6,#128
 mov A,R7
 mov R5,A
 mov A,R6
 orl A,#64
 mov R4,A
 mov R6,AR8
 mov R7,AR9
 mov DPH,R6
 mov DPL,R7
 lcall __st_dptr_r45
 .line "tcpip\net.c" 1545 6
 mov R2,_rx_bd
 mov R3,_rx_bd+1
 ; variable 'type' assigned to register 'RW23'
 .line "tcpip\net.c" 1546 9
 mov R6,_rx_bd
 mov R7,_rx_bd+1
 mov A,#8
 add A,R7
 mov R5,A
 clr A
 addc A,R6
 mov R4,A
 mov _rx_bd,R4
 mov _rx_bd+1,R5
 mov R6,#212
 mov R7,#0
 mov A,#40
 add A,R7
 mov R7,A
 clr A
 addc A,R6
 mov R6,A
 mov A,R5
 xrl A,R7
 jnz ?_149
 mov A,R4
 xrl A,R6
 jz ?_150
?_149:
 sjmp ?292
?_150:
 .line "tcpip\net.c" 1546 130
 mov R6,#212
 mov R7,#0
 mov A,#8
 add A,R7
 mov R7,A
 clr A
 addc A,R6
 mov R6,A
 mov _rx_bd,R6
 mov _rx_bd+1,R7
 .line "tcpip\net.c" 1548 6
?292:
 .line "tcpip\net.c" 1550 10
 mov R6,_rx_bd
 mov R7,_rx_bd+1
 mov A,R3
 xrl A,R7
 jnz ?_151
 mov A,R2
 xrl A,R6
 jz ?296
?_151:
 mov R6,_rx_bd
 mov R7,_rx_bd+1
 mov A,#2
 add A,R7
 mov R7,A
 clr A
 addc A,R6
 mov R6,A
 mov DPH,R6
 mov DPL,R7
 lcall __ld_dptr_r67
 mov R7,#0
 anl AR6,#128
 mov A,R6
 orl A,R7
 jz ?294
?296:
 .line "tcpip\net.c" 1550 61
 mov DPTR,#53255
 mov A,#12
 movx @DPTR,A
 .line "tcpip\net.c" 1553 6
?294:
 .line "tcpip\net.c" 1554 13
 mov R6,?poll_net_2_event
 mov R7,?poll_net_2_event+1
 ljmp ?263
?268:
 .line "tcpip\net.c" 1556 6
 mov A,_net_timer
 jz ?_153
 ljmp ?297
?_153:
 .line "tcpip\net.c" 1558 16
 inc _net_service_cnt
 .line "tcpip\net.c" 1563 8
 mov _net_timer,#15
 ; variable 'psock' allocated as 'auto'
 .line "tcpip\net.c" 1564 8
 mov ?poll_net_2_psock,#((_uc_socket)>>8)&255
 mov ?poll_net_2_psock+1,#(_uc_socket)&255
 ; variable 'ui' allocated as 'auto'
 .line "tcpip\net.c" 1565 12
 clr A
 mov ?poll_net_2_ui,A
?299:
 .line "tcpip\net.c" 1565 36
 mov R6,?poll_net_2_psock
 mov R7,?poll_net_2_psock+1
 inc R7
 mov A,R7
 jnz ?__5
 inc R6
?__5:
 mov DPH,AR6
 mov DPL,AR7
 movx A,@DPTR
 mov R7,A
 jz ?303
 .line "tcpip\net.c" 1566 27
 mov R2,#0
 mov R3,#50
 mov R4,#((_match_socket)>>8)&255
 mov R5,#(_match_socket)&255
 mov R6,?poll_net_2_psock
 mov R7,?poll_net_2_psock+1
 lcall _xram_fast_copy
 .line "tcpip\net.c" 1569 9
 lcall _periodical_socket
 ; variable 'res' allocated as 'auto'
 mov ?poll_net_2_res,R6
 mov ?poll_net_2_res+1,R7
 .line "tcpip\net.c" 1571 9
 mov R2,#0
 mov R3,#50
 mov R4,?poll_net_2_psock
 mov R5,?poll_net_2_psock+1
 mov R6,#((_match_socket)>>8)&255
 mov R7,#(_match_socket)&255
 lcall _xram_fast_copy
 .line "tcpip\net.c" 1572 12
 mov A,?poll_net_2_res
 orl A,?poll_net_2_res+1
 jz ?305
 .line "tcpip\net.c" 1572 24
 mov R7,?poll_net_2_ui
 mov R5,AR7
 mov R4,#0
 mov R6,?poll_net_2_res
 mov R7,?poll_net_2_res+1
 mov A,R5
 add A,R7
 mov R7,A
 mov A,R4
 addc A,R6
 mov R6,A
 sjmp ?263
?305:
 .line "tcpip\net.c" 1573 4
?303:
 .line "tcpip\net.c" 1574 3
 inc ?poll_net_2_ui
 mov A,#50
 add A,?poll_net_2_psock+1
 mov ?poll_net_2_psock+1,A
 clr A
 addc A,?poll_net_2_psock
 mov ?poll_net_2_psock,A
 .line "tcpip\net.c" 1565 17
 mov R5,#2
 mov R7,?poll_net_2_ui
 clr C
 mov A,R7
 subb A,R5
 jnc ?_156
 ljmp ?299
?_156:
 .line "tcpip\net.c" 1575 10
 mov R6,#212
 mov R7,#0
 sjmp ?263
?297:
 .line "tcpip\net.c" 1578 1
 clr A
 mov R6,A
 mov R7,A
?263:
 ret
; end of function poll_net
; used: R01234567 BR01234567 DPTR ACC PSW B locals:5 bytes

_irq_vector _irq_timer0int ,0xB,_timer0int
 .export _timer0int ; void timer0int(void) interrupt
 .segment _timer0int_formal_near, size 0, fill, notext, sclass dram
 .segment _timer0int_local_near, size 0, fill, notext, sclass dram
 .sgraph _timer0int_formal_near, _timer0int_local_near, __timer0int

 .segment __timer0int
_timer0int: ; (leaf function) void timer0int(void) interrupt
 push 7
 push ACC
 push PSW
 anl PSW,#231
 mov R7,_net_timer
 mov A,R7
 jz ?309
 dec R7
 mov _net_timer,R7
?309:
 pop PSW
 pop ACC
 pop 7
 reti
; end of function timer0int
; used: R-------7 BR-------- ACC

 .export _Init_net ; unsigned char Init_net(void)
 .hide
 .segment _Init_net_formal_near, size 0, fill, notext, sclass dram
 .segment _Init_net_local_near, size 0, fill, notext, sclass dram
 .sgraph _Init_net_formal_near, _Init_net_local_near, __Init_net
 .sgraph _Init_net_local_near, _Init_Mac_formal_near, __Init_net, 0
 .segment _Init_Mac_formal_near, size 0, fill, notext, sclass dram
 .segment _formal_near, size 0, fill, notext, sclass dram
 .show

 .segment __Init_net
_Init_net: ; unsigned char Init_net(void)
 .line "tcpip\net.c" 1600 20
 lcall _Init_Mac
 mov A,R7
 jz ?312
 .line "tcpip\net.c" 1606 23
 mov R7,#1
 sjmp ?311
?312:
 .line "tcpip\net.c" 1609 1
 clr _EA
 .line "tcpip\net.c" 1611 1
 anl _TMOD,#240
 .line "tcpip\net.c" 1612 1
 orl _TMOD,#1
 .line "tcpip\net.c" 1613 1
 setb _TR0
 .line "tcpip\net.c" 1614 1
 setb _ET0
 .line "tcpip\net.c" 1616 1
 setb _EA
 .line "tcpip\net.c" 1618 1
 mov R6,#0
 mov R7,#100
 lcall __wait_ms
 .line "tcpip\net.c" 1620 8
 clr A
 mov R7,A
?311:
 ret
; end of function Init_net
; used: R01234567 BR01234567 DPTR ACC PSW B

 .segment bss, sclass xram, notext
 .export _match_socket ; xdata UC_SOCKET match_socket
_match_socket: ; xdata UC_SOCKET match_socket
 .ds.b 50
 .export _tx_buffers ; xdata unsigned char tx_buffers[4][101]
_tx_buffers: ; xdata unsigned char tx_buffers[4][101]
 .ds.b 404
 .segment nearbss, sclass dram, notext
 .export _net_service_cnt ; near unsigned char net_service_cnt
_net_service_cnt: ; near unsigned char net_service_cnt
 .ds.b 1
 .export _net_timer ; near unsigned char net_timer
_net_timer: ; near unsigned char net_timer
 .ds.b 1
 .segment bss, sclass xram, notext
 .export _hframe ; xdata HFRAME hframe
_hframe: ; xdata HFRAME hframe
 .ds.b 20
 .export _pseudo_hdr ; xdata PSEUDO_HDR pseudo_hdr
_pseudo_hdr: ; xdata PSEUDO_HDR pseudo_hdr
 .ds.b 12
 .export _hhdr ; xdata IP_HDR hhdr
_hhdr: ; xdata IP_HDR hhdr
 .ds.b 20
 .export _gateway_mac ; xdata unsigned char gateway_mac[6]
_gateway_mac: ; xdata unsigned char gateway_mac[6]
 .ds.b 6
 .export _remote_mac ; xdata unsigned char remote_mac[6]
_remote_mac: ; xdata unsigned char remote_mac[6]
 .ds.b 6
 .import _xram_fast_copy ; void xram_fast_copy(xdata unsigned char *, xdata unsigned char *, unsigned int)
 .import _ip_check_more ; unsigned int ip_check_more(xdata unsigned char *, unsigned int, unsigned int)
 .import _ip_check ; unsigned int ip_check(xdata unsigned char *, unsigned int)
 .import _net_match_uint ; unsigned char net_match_uint(unsigned int)
 .import _net_match_ulong ; unsigned char net_match_ulong(unsigned long)
 .import _init_rx ; void init_rx(void)
 .import _find_RX_Buffer ; xdata oeth_bd *find_RX_Buffer(void)
 .import _Init_Mac ; unsigned char Init_Mac(void)
 .import _Read_Frame_xdata_Phy ; void Read_Frame_xdata_Phy(xdata unsigned char *, unsigned int)
 .import _Read_Frame_long_Phy ; unsigned long Read_Frame_long_Phy(void)
 .import _Read_Frame_word_Phy ; unsigned int Read_Frame_word_Phy(void)
 .import _Write_Frame_xdata_Phy ; void Write_Frame_xdata_Phy(xdata unsigned char *, unsigned int)
 .import _Write_Frame_long_Phy ; void Write_Frame_long_Phy(unsigned long)
 .import _Write_Frame_word_Phy ; void Write_Frame_word_Phy(unsigned int)
 .import _CommitSend_Phy ; void CommitSend_Phy(void)
 .import _RequestSend_Phy ; void RequestSend_Phy(unsigned int)
 .export _rcv_len ; xdata unsigned int rcv_len
_rcv_len: ; xdata unsigned int rcv_len
 .ds.b 2
 .export _rcv_buf ; xdata unsigned char rcv_buf[1400]
_rcv_buf: ; xdata unsigned char rcv_buf[1400]
 .ds.b 1400
 .export _uc_socket ; xdata UC_SOCKET uc_socket[2]
_uc_socket: ; xdata UC_SOCKET uc_socket[2]
 .ds.b 100
 .export _gateway_ip ; xdata IP_ADR gateway_ip
_gateway_ip: ; xdata IP_ADR gateway_ip
 .ds.b 4
 .export _subnet_ip ; xdata IP_ADR subnet_ip
_subnet_ip: ; xdata IP_ADR subnet_ip
 .ds.b 4
 .export _remote_ip ; xdata IP_ADR remote_ip
_remote_ip: ; xdata IP_ADR remote_ip
 .ds.b 4
 .export _my_ip ; xdata IP_ADR my_ip
_my_ip: ; xdata IP_ADR my_ip
 .ds.b 4
 .import _EA ; bit unsigned char EA
 .import _ET0 ; bit unsigned char ET0
 .import _TMOD ; near unsigned char TMOD
 .import _TR0 ; bit unsigned char TR0
 .import _bmove ; void bmove(far void *, far void *, unsigned int)
 .import _strlen ; int strlen(far char *)
 .import __wait_ms ; void _wait_ms(unsigned int) reentrant
 .end
; *END* (4819 lines)
